<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="author" content="RactiveJS contributors"> 
    <link rel="canonical" href="https://ractive.js.org/Concepts/Architecture/Overview/"> 
    <link rel="shortcut icon" href="../../../img/favicon.ico">

    <title>Overview - Ractive.js</title>

    <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../../css/base.css" rel="stylesheet">
    <link href="../../../css/cinder.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">


    <link href="../../../css/index.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">Ractive.js</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Started <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../..">Introduction</a>
</li>

                        
                            
<li >
    <a href="../../../Get Started/60-Second Setup/">60-second setup</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Examples</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Get Started/Examples/Analog Clock/">Analog Clock</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Animated Chart/">Animated Chart</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Comments/">Comments</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Donut Chart/">Donut Chart</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Illustration/">Illustration</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Rating Stars/">Rating Stars</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Todo List/">Todo List</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../../../Get Started/Debugging/">Debugging</a>
</li>

                        
                            
<li >
    <a href="../../../Get Started/Support/">Support</a>
</li>

                        
                            
<li >
    <a href="../../../Get Started/Contributing/">Contributing</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">API <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../API/Initialization Options/">Initialization Options</a>
</li>

                        
                            
<li >
    <a href="../../../API/Static Properties/">Static Properties</a>
</li>

                        
                            
<li >
    <a href="../../../API/Static Methods/">Static Methods</a>
</li>

                        
                            
<li >
    <a href="../../../API/Instance Properties/">Instance Properties</a>
</li>

                        
                            
<li >
    <a href="../../../API/Instance Methods/">Instance Methods</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Helper Objects</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../API/Helper Objects/Node Info/">Node Info</a>
</li>

        
            
<li >
    <a href="../../../API/Helper Objects/Parse/">Parse</a>
</li>

        
            
<li >
    <a href="../../../API/Helper Objects/Transition/">Transition</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../../../API/Errors/">Errors</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Integrations <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../Integrations/Plugins/">Plugins</a>
</li>

                        
                            
<li >
    <a href="../../../Integrations/Tools/">Tools</a>
</li>

                        
                            
<li >
    <a href="../../../Integrations/Libraries/">Libraries</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Extend <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../Extend/Adaptors/">Adaptors</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Components/">Components</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Decorators/">Decorators</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Easings/">Easings</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Events/">Events</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Interpolators/">Interpolators</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Partials/">Partials</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Transitions/">Transitions</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Concepts <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Architecture</a>
    <ul class="dropdown-menu">
        
            
<li class="active">
    <a href="./">Overview</a>
</li>

        
            
<li >
    <a href="../Parser/">Parser</a>
</li>

        
            
<li >
    <a href="../Model/">Model</a>
</li>

        
            
<li >
    <a href="../View/">View</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Data Binding</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Data Binding/Array Modification/">Array Modification</a>
</li>

        
            
<li >
    <a href="../../Data Binding/Computed Properties/">Computed Properties</a>
</li>

        
            
<li >
    <a href="../../Data Binding/Dependents/">Dependents</a>
</li>

        
            
<li >
    <a href="../../Data Binding/Magic Mode/">Magic Mode</a>
</li>

        
            
<li >
    <a href="../../Data Binding/Observers/">Observers</a>
</li>

        
            
<li >
    <a href="../../Data Binding/Parallel DOM/">Parallel DOM</a>
</li>

        
            
<li >
    <a href="../../Data Binding/Two-Way Binding/">Two-Way Binding</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Events</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Events/Overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../Events/Bubbling/">Bubbling</a>
</li>

        
            
<li >
    <a href="../../Events/Directives/">Directives</a>
</li>

        
            
<li >
    <a href="../../Events/Method Calls/">Method Calls</a>
</li>

        
            
<li >
    <a href="../../Events/Proxy Events/">Proxy Events</a>
</li>

        
            
<li >
    <a href="../../Events/Publish-Subscribe/">Publish-Subscribe</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Rendering</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Rendering/Progressive Enhancement/">Progressive Enhancement</a>
</li>

        
            
<li >
    <a href="../../Rendering/Server-Side Rendering/">Server-Side Rendering</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Security</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Security/CSP/">CSP</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Templates</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Templates/Overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../Templates/Elements/">Elements</a>
</li>

        
            
<li >
    <a href="../../Templates/Expressions/">Expressions</a>
</li>

        
            
<li >
    <a href="../../Templates/Keypaths/">Keypaths</a>
</li>

        
            
<li >
    <a href="../../Templates/Mustaches/">Mustaches</a>
</li>

        
            
<li >
    <a href="../../Templates/Parsing/">Parsing</a>
</li>

        
            
<li >
    <a href="../../Templates/Pre-Parsing/">Pre-Parsing</a>
</li>

        
            
<li >
    <a href="../../Templates/References/">References</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Articles <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../Articles/introducing-ractive-js/">Introducing Ractive.js</a>
</li>

                        
                            
<li >
    <a href="../../../Articles/the-origins-of-ractive/">The Origins Of Ractive</a>
</li>

                        
                            
<li >
    <a href="../../../Articles/ractive-js-expressions-and-the-new-wave-of-reactive-programming/">Ractive.js expressions and the new wave of reactive programming</a>
</li>

                        
                            
<li >
    <a href="../../../Articles/ractive-vs-angular/">Ractive vs Angular</a>
</li>

                        
                            
<li >
    <a href="../../../Articles/ractive-vs-react/">Ractive vs React</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../../../Extend/Transitions/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../Parser/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/ractivejs/ractive">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="first-level active"><a href="#ractive-general-overview">Ractive General Overview</a></li>
        
            <li class="second-level"><a href="#data-and-models">Data and Models</a></li>
            
        
            <li class="second-level"><a href="#virtual-dom">Virtual DOM</a></li>
            
        
            <li class="second-level"><a href="#parsing">Parsing</a></li>
            
        
    
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="ractive-general-overview">Ractive General Overview</h1>
<p>There are three major sections in the Ractive source to handle each of data, the DOM and virtual DOM, and parsing template strings to Ractive's template AST. Each of those sections mostly lives in its own folder in the <code>src</code> tree: <code>model</code>, <code>view</code>, and <code>parse</code>, respectively. This document aims to give a general overview of what each section does so that you can hopefully find what you need to fix a bug, add a feature, or just understand how something works internally.</p>
<h2 id="data-and-models">Data and Models</h2>
<p>Ractive wraps any data given to it into a tree-like hierarchy of <code>Model</code>. Any data that is rendered into a template will be bound to a <code>Model</code>. Access to read and write data in Ractive is handled through the model hierarchy based on keypaths, which are, generally, a list of object properties that one would need to follow to reach a leaf of the data tree starting from the root. Each key along the keypath has its own corresponding model.</p>
<p>Models allow entities that depend upon them to register themeselves to receive change notifications when the model value changes. This is how Ractive keeps track of exactly which parts of the view need to be updated when values change.</p>
<p>Read more about models in the <a href="../Model/">model overview</a>.</p>
<h2 id="virtual-dom">Virtual DOM</h2>
<p>Every piece of DOM that Ractive can manage has a corresponding class in the virtual DOM to handle the DOM node, which generally end up being either Elements or Text Nodes. View items are grouped together as Fragments of view, which may then be owned by other fragments or items. At the root of every ractive instance is a Fragment instance that contains its entire virtual DOM tree. Each Ractive template construct has at least one analog in the virtual DOM. The bulk of Ractive's view functionality is implemented in the Section, Interpolator, and Element items, with there being a number of specialized element classes to handle special types of HTML element.</p>
<p>All virtual DOM items go through roughly the same lifecycle: creation, binding, rendering, bubbling, updating, unrendering, and unbinding. Creation is basically just the constructor call and almost always is immediately followed by binding. Binding is the point at which the item resolves and registers with its data references. Rendering is the point at which the item inserts an actual DOM node into the DOM. Bubbling and updating are the two halves of the update process, which is discussed in the next section. Unrendering is the point at which the item should no longer be present in the DOM, and it often occurs at the same point as unbinding, which is the point at which the item unregisters with the viewmodel and is effectively destroyed.</p>
<p>There a number of other members, such as events and decorators, and processes, such as change propagation, which are described in detail in the <a href="../View/">view overview</a>.</p>
<h2 id="parsing">Parsing</h2>
<p>Ractive's parser is responsible for taking the (mostly :wink:) human-friendly mustachioed HTML of templates and turning it into an AST that can be turned into vDOM at runtime. Ractive's parser is somewhat unique among its peers in that it handles reading not only the mustache templates, but a fair amount of ES5 and ES6 syntax for expressions.</p>
<p>Each item expressable in Ractive-flavored mustache has its own parsing function that may also be comprised of other parsing functions. Each bit of ES syntax that Ractive understands for expressions also has its own parsing function. The parser starts at the beginning of the template string and starts applying each parsing function in precedence order. Each function will then consume as much of the template as needed to return an item, like an element, a section, a partial, a bit of text, or an interpolator. It may also return nothing. Most items can also contain children, including items of the same type as themselves, and will thus recurse by trying to parse their content.</p>
<p>There is more information about Ractive's parsing in the <a href="../Parser/">parser overview</a>.</p></div>
        
    </div>

    <footer class="col-md-12 text-center">
        <hr>
        <p>
        <small>© RactiveJS contributors. Ractive.js is a free and open source project released under the MIT license.<br></small>
        
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>
    </footer>

    <script src="../../../js/jquery-1.10.2.min.js"></script>
    <script src="../../../js/bootstrap-3.0.3.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '../../..';
    </script>
    <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
    <script src="../../../js/base.js"></script>
    <script src="../../../js/index.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    </body>

</html>
