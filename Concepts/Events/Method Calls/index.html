<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="author" content="RactiveJS contributors"> 
    <link rel="canonical" href="https://ractive.js.org/Concepts/Events/Method Calls/"> 
    <link rel="shortcut icon" href="../../../img/favicon.ico">

    <title>Method Calls - Ractive.js</title>

    <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../../css/base.css" rel="stylesheet">
    <link href="../../../css/cinder.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">


    <link href="../../../css/index.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">Ractive.js</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Started <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../..">Introduction</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Examples</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../Get Started/Examples/Chart/">Animated Chart</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Clock/">Clock</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Comments/">Comments</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Components/">Components</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Illustration/">Illustration</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Infinite Scroll/">Infinite Scroll</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Backbone/">Backbone</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Ratings/">Ratings</a>
</li>

        
            
<li >
    <a href="../../../Get Started/Examples/Todos/">Todos</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../../../Get Started/Debugging/">Debugging</a>
</li>

                        
                            
<li >
    <a href="../../../Get Started/Support/">Support</a>
</li>

                        
                            
<li >
    <a href="../../../Get Started/Contributing/">Contributing</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">API <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../API/Initialization Options/">Initialization Options</a>
</li>

                        
                            
<li >
    <a href="../../../API/Static Properties/">Static Properties</a>
</li>

                        
                            
<li >
    <a href="../../../API/Static Methods/">Static Methods</a>
</li>

                        
                            
<li >
    <a href="../../../API/Instance Properties/">Instance Properties</a>
</li>

                        
                            
<li >
    <a href="../../../API/Instance Methods/">Instance Methods</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Helper Objects</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../API/Helper Objects/Node Info/">Node Info</a>
</li>

        
            
<li >
    <a href="../../../API/Helper Objects/Parse/">Parse</a>
</li>

        
            
<li >
    <a href="../../../API/Helper Objects/Transition/">Transition</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../../../API/Errors/">Errors</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Integrations <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../Integrations/Plugins/">Plugins</a>
</li>

                        
                            
<li >
    <a href="../../../Integrations/Tools/">Tools</a>
</li>

                        
                            
<li >
    <a href="../../../Integrations/Libraries/">Libraries</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Extend <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../Extend/Adaptors/">Adaptors</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Components/">Components</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Decorators/">Decorators</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Easings/">Easings</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Events/">Events</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Interpolators/">Interpolators</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Partials/">Partials</a>
</li>

                        
                            
<li >
    <a href="../../../Extend/Transitions/">Transitions</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Concepts <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Architecture</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Architecture/Overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../Architecture/Parser/">Parser</a>
</li>

        
            
<li >
    <a href="../../Architecture/Model/">Model</a>
</li>

        
            
<li >
    <a href="../../Architecture/View/">View</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Data Binding</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Data Binding/Array Modification/">Array Modification</a>
</li>

        
            
<li >
    <a href="../../Data Binding/Computed Properties/">Computed Properties</a>
</li>

        
            
<li >
    <a href="../../Data Binding/Dependents/">Dependents</a>
</li>

        
            
<li >
    <a href="../../Data Binding/Magic Mode/">Magic Mode</a>
</li>

        
            
<li >
    <a href="../../Data Binding/Observers/">Observers</a>
</li>

        
            
<li >
    <a href="../../Data Binding/Parallel DOM/">Parallel DOM</a>
</li>

        
            
<li >
    <a href="../../Data Binding/Two-Way Binding/">Two-Way Binding</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Events</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../Overview/">Overview</a>
</li>

        
            
<li >
    <a href="../Bubbling/">Bubbling</a>
</li>

        
            
<li >
    <a href="../Directives/">Directives</a>
</li>

        
            
<li class="active">
    <a href="./">Method Calls</a>
</li>

        
            
<li >
    <a href="../Proxy Events/">Proxy Events</a>
</li>

        
            
<li >
    <a href="../Publish-Subscribe/">Publish-Subscribe</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Rendering</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Rendering/Progressive Enhancement/">Progressive Enhancement</a>
</li>

        
            
<li >
    <a href="../../Rendering/Server-Side Rendering/">Server-Side Rendering</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Security</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Security/CSP/">CSP</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Templates</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../Templates/Overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../Templates/Elements/">Elements</a>
</li>

        
            
<li >
    <a href="../../Templates/Expressions/">Expressions</a>
</li>

        
            
<li >
    <a href="../../Templates/Keypaths/">Keypaths</a>
</li>

        
            
<li >
    <a href="../../Templates/Mustaches/">Mustaches</a>
</li>

        
            
<li >
    <a href="../../Templates/Parsing/">Parsing</a>
</li>

        
            
<li >
    <a href="../../Templates/Pre-Parsing/">Pre-Parsing</a>
</li>

        
            
<li >
    <a href="../../Templates/References/">References</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../Directives/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../Proxy Events/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/ractivejs/ractive">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="first-level active"><a href="#cancelling-events">Cancelling events</a></li>
        
    
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<p><em>See also: <a href="../Proxy Events/">proxy events</a></em></p>
<p><strong>Note:</strong> Unqualified event method calls are deprecated and have been replaced with event expressions that resolve the same way as every other expression in a Ractive template. This means that to call, for instance, <code>set('foo', 'bar')</code> in an event, you would now use <code>@this.set('foo', 'bar')</code>. Unfortunately, this adds a bit of boilerplate to common method calls, but it is also resolves the disparity between event directives and other template references, allows calling data methods from events, and allows executing multiple, possibly more complex, expressions when an event fires.</p>
<p>As an alternative to <a href="../Directives/">event directive</a>, right from your template:</p>
<pre><code class="html">&lt;p&gt;foo is {{foo}}&lt;/p&gt;
&lt;button on-click='@this.toggle(&quot;foo&quot;)'&gt;toggle foo&lt;/button&gt;
</code></pre>

<p>In this case, because <a href="../../../API/Instance Properties#ractive.toggle()"><code>ractive.toggle()</code></a> is a built-in method, clicking the button will toggle the value of <code>foo</code> between <code>true</code> and <code>false</code> (<a href="http://jsfiddle.net/rich_harris/xxg93vw8/">demo</a>).</p>
<p>This also works with custom methods:</p>
<pre><code class="js">var ractive = new Ractive({
  el: 'body',
  template: '&lt;button on-click=&quot;@this.klaxon()&quot;&gt;sound the klaxon&lt;/button&gt;',
  audio: new Audio( 'klaxon.mp3' ),
  klaxon: function () {
    this.audio.play();
  }
});
</code></pre>

<p>You can pass as many arguments to the method as you like, including data references:</p>
<pre><code class="html">{{#each items :i}}
  &lt;button on-click='@this.select(this,i)'&gt;select this item&lt;/button&gt;
{{/each}}
</code></pre>

<p>Notice that mustaches are <strong>not</strong> used with data reference in method calls, i.e. <code>{{i}}</code> and will cause errors if they are. String literals need to be in quotes:</p>
<pre><code class="html">&lt;button on-click='@this.set(&quot;foo&quot;, true)'&gt;make foo true&lt;/button&gt;
</code></pre>

<p>You can also pass the <code>event</code> object, or properties thereof (<code>event.original</code> is the original DOM event) (<a href="http://jsfiddle.net/rich_harris/9ecvjjtm/">demo</a>):</p>
<pre><code class="html">&lt;div
  on-mousemove='@this.set({
    x: event.original.clientX,
    y: event.original.clientY
  })'
  on-mouseleave='@this.set({
    x: &quot;unknown&quot;,
    y: &quot;unknown&quot;
  })'
&gt;
  &lt;p&gt;current mouse position: {{x}} x {{y}}&lt;/p&gt;
&lt;/div&gt;
</code></pre>

<p>The <code>event</code> object is also available within body of the method call function as <code>this.event</code>. Note that methods on your Ractive instance that may handle your events are effectively part of your public API, and <code>this.event</code> will only be available during invocations triggered by an event.</p>
<p>The <code>event</code> argument is also extended with contextual helper methods. See <a href="../../../API/Helper Objects/Node Info/">helpers</a>.</p>
<p>If you need to evaluate multiple expressions from an event directive, simply separate them with a <code>,</code>. For instance:</p>
<pre><code class="html">{{#each someList as item}}
&lt;div&gt;
  {{item.display}}
  &lt;a href=&quot;#&quot; on-click=&quot;event.pop('../'), @this.notifyUser('item removed!'), false&quot;&gt;
    Remove and Notify
  &lt;/a&gt;
&lt;/div&gt;
{{/each}}
</code></pre>

<p>Note that this is a list of independent expressions, and as long as one doesn't throw, they will all be evaluated.</p>
<h2 id="cancelling-events">Cancelling events</h2>
<p>As with proxy events, you can cancel a DOM event by returning <code>false</code> from your event handler. Ractive with then call <code>preventDefault()</code> and <code>stopPropagation()</code> on the original DOM event. You can also call any methods on the original event by having it passed to your handler or accessing it using <code>this.event.original</code>. With event expressions, you can force the cancellation regardless of the return from any methods you call by simply including <code>false</code> as the last expression in your list, as above in the 'Remove and Notify' example. You can also override cancellation in much the same way by using <code>true</code> instead of <code>false</code>.</p></div>
        
    </div>

    <footer class="col-md-12 text-center">
        <hr>
        <p>
        <small>© RactiveJS contributors<br></small>
        
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>
    </footer>

    <script src="../../../js/jquery-1.10.2.min.js"></script>
    <script src="../../../js/bootstrap-3.0.3.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '../../..';
    </script>
    <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
    <script src="../../../js/base.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    </body>

</html>
