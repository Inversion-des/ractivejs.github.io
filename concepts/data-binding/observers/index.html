<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="author" content="RactiveJS contributors"> 
    <link rel="canonical" href="https://ractive.js.org/concepts/data-binding/observers/"> 
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="theme-color" content="#557526">

    <title>Observers - Ractive.js</title>

    <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../../css/base.css" rel="stylesheet">
    <link href="../../../css/cinder.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">


    <link href="../../../css/index.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">Ractive.js</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Started <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../..">Introduction</a>
</li>

                        
                            
<li >
    <a href="../../../get-started/60-second-setup/">60-second Setup</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Learn</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../get-started/tutorials/hello-world/">Hello, world!</a>
</li>

        
            
<li >
    <a href="../../../get-started/tutorials/nested-properties/">Nested Properties</a>
</li>

        
            
<li >
    <a href="../../../get-started/tutorials/expressions/">Expressions</a>
</li>

        
            
<li >
    <a href="../../../get-started/tutorials/events/">Events</a>
</li>

        
            
<li >
    <a href="../../../get-started/tutorials/conditional-sections/">Conditional Sections</a>
</li>

        
            
<li >
    <a href="../../../get-started/tutorials/iterative-sections/">Iterative Sections</a>
</li>

        
            
<li >
    <a href="../../../get-started/tutorials/two-way-binding/">Two-way Binding</a>
</li>

        
            
<li >
    <a href="../../../get-started/tutorials/partials/">Partials</a>
</li>

        
            
<li >
    <a href="../../../get-started/tutorials/triples-embedded-html/">Triples (Embedded HTML)</a>
</li>

        
            
<li >
    <a href="../../../get-started/tutorials/components/">Components</a>
</li>

        
            
<li >
    <a href="../../../get-started/tutorials/animation/">Animations</a>
</li>

        
            
<li >
    <a href="../../../get-started/tutorials/svg/">SVG</a>
</li>

        
            
<li >
    <a href="../../../get-started/tutorials/transitions/">Transitions</a>
</li>

        
            
<li >
    <a href="../../../get-started/tutorials/decorators/">Decorators</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Examples</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../get-started/examples/analog-clock/">Analog Clock</a>
</li>

        
            
<li >
    <a href="../../../get-started/examples/animated-chart/">Animated Chart</a>
</li>

        
            
<li >
    <a href="../../../get-started/examples/comments/">Comments</a>
</li>

        
            
<li >
    <a href="../../../get-started/examples/donut-chart/">Donut Chart</a>
</li>

        
            
<li >
    <a href="../../../get-started/examples/illustration/">Illustration</a>
</li>

        
            
<li >
    <a href="../../../get-started/examples/rating-stars/">Rating Sars</a>
</li>

        
            
<li >
    <a href="../../../get-started/examples/todo-list/">ToDo List</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../../../get-started/debugging/">Debugging</a>
</li>

                        
                            
<li >
    <a href="../../../get-started/support/">Support</a>
</li>

                        
                            
<li >
    <a href="../../../get-started/contributing/">Contributing</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">API <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../api/initialization-options/">Initialization Options</a>
</li>

                        
                            
<li >
    <a href="../../../api/static-properties/">Static Properties</a>
</li>

                        
                            
<li >
    <a href="../../../api/static-methods/">Static Methods</a>
</li>

                        
                            
<li >
    <a href="../../../api/instance-properties/">Instance Properties</a>
</li>

                        
                            
<li >
    <a href="../../../api/instance-methods/">Instance Methods</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Helper Objects</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../api/helper-objects/node-info/">Node Info</a>
</li>

        
            
<li >
    <a href="../../../api/helper-objects/parse/">Parse</a>
</li>

        
            
<li >
    <a href="../../../api/helper-objects/transition/">Transition</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../../../api/attributes/">Attributes</a>
</li>

                        
                            
<li >
    <a href="../../../api/keypath-prefixes/">Keypath Prefixes</a>
</li>

                        
                            
<li >
    <a href="../../../api/special-references/">Special References</a>
</li>

                        
                            
<li >
    <a href="../../../api/component-files/">Component Files</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Extend <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../extend/adaptors/">Adaptors</a>
</li>

                        
                            
<li >
    <a href="../../../extend/components/">Components</a>
</li>

                        
                            
<li >
    <a href="../../../extend/decorators/">Decorators</a>
</li>

                        
                            
<li >
    <a href="../../../extend/easings/">Easings</a>
</li>

                        
                            
<li >
    <a href="../../../extend/events/">Events</a>
</li>

                        
                            
<li >
    <a href="../../../extend/interpolators/">Interpolators</a>
</li>

                        
                            
<li >
    <a href="../../../extend/partials/">Partials</a>
</li>

                        
                            
<li >
    <a href="../../../extend/transitions/">Transitions</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Integrations <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../integrations/loaders/">Loaders</a>
</li>

                        
                            
<li >
    <a href="../../../integrations/plugins/">Plugins</a>
</li>

                        
                            
<li >
    <a href="../../../integrations/tools/">Tools</a>
</li>

                        
                            
<li >
    <a href="../../../integrations/libraries/">Libraries</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Concepts <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Architecture</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../architecture/overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../architecture/parser/">Parser</a>
</li>

        
            
<li >
    <a href="../../architecture/model/">Model</a>
</li>

        
            
<li >
    <a href="../../architecture/view/">View</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Data Binding</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../computed-properties/">Computed Properties</a>
</li>

        
            
<li >
    <a href="../dependents/">Dependents</a>
</li>

        
            
<li class="active">
    <a href="./">Observers</a>
</li>

        
            
<li >
    <a href="../parallel-dom/">Parallel DOM</a>
</li>

        
            
<li >
    <a href="../two-way-binding/">Two-Way Binding</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Events</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../events/overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../events/bubbling/">Bubbling</a>
</li>

        
            
<li >
    <a href="../../events/directives/">Directives</a>
</li>

        
            
<li >
    <a href="../../events/method-calls/">Method Calls</a>
</li>

        
            
<li >
    <a href="../../events/proxy-events/">Proxy Events</a>
</li>

        
            
<li >
    <a href="../../events/publish-subscribe/">Publish-Subscribe</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Rendering</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../rendering/progressive-enhancement/">Progressive Enhancement</a>
</li>

        
            
<li >
    <a href="../../rendering/server-side-rendering/">Server-Side Rendering</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Security</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../security/csp/">CSP</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Templates</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../templates/elements/">Elements</a>
</li>

        
            
<li >
    <a href="../../templates/expressions/">Expressions</a>
</li>

        
            
<li >
    <a href="../../templates/keypaths/">Keypaths</a>
</li>

        
            
<li >
    <a href="../../templates/mustaches/">Mustaches</a>
</li>

        
            
<li >
    <a href="../../templates/parsing/">Parsing</a>
</li>

        
            
<li >
    <a href="../../templates/references/">References</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Articles <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../articles/introducing-ractive-js/">Introducing Ractive.js</a>
</li>

                        
                            
<li >
    <a href="../../../articles/the-origins-of-ractive/">The Origins Of Ractive</a>
</li>

                        
                            
<li >
    <a href="../../../articles/ractive-js-expressions-and-the-new-wave-of-reactive-programming/">Ractive.js Expressions And The New Wave Of Reactive Programming</a>
</li>

                        
                            
<li >
    <a href="../../../articles/ractive-vs-angular/">Ractive.js vs Angular</a>
</li>

                        
                            
<li >
    <a href="../../../articles/ractive-vs-react/">Ractive.js vs React</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../dependents/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../parallel-dom/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/ractivejs/ractive">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

    <div id="main">
        <div class="container">
            
            <div class="col-md-3" role="subnav"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="first-level active"><a href="#like-publishsubscribe-but-different">Like publish/subscribe, but different</a></li>
        
    
        <li class="first-level "><a href="#observing-models-with-nested-properties">Observing models with nested properties</a></li>
        
    
        <li class="first-level "><a href="#pattern-observers">Pattern Observers</a></li>
        
    
        <li class="first-level "><a href="#space-delimited-observers">Space Delimited Observers</a></li>
        
    
        <li class="first-level "><a href="#a-gotcha-to-be-aware-of">A 'gotcha' to be aware of</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="like-publishsubscribe-but-different">Like publish/subscribe, but different</h1>
<p>A common pattern in modern JavaScript is to make models <em>observable</em>, using the traditional <a href="http://addyosmani.com/blog/understanding-the-publishsubscribe-pattern-for-greater-javascript-scalability/">publish/subscribe</a> mechanism.</p>
<p>For example, you can observe changes to attributes within a Backbone Model like so:</p>
<pre><code class="js">model = Backbone.Model({ myValue: 1 });

model.on( 'change:myValue', function ( model, value, options ) {
  alert( 'myValue changed to ' + value );
});

model.set( 'myValue', 2 ); // alerts 'myValue changed to 2'
</code></pre>

<p>This works because <code>Backbone.Model.prototype</code> inherits from <code>Backbone.Events</code>.</p>
<p>Ractive implements pub/sub with <a href="../../../api/instance-methods/#ractiveon"><code>ractive.on()</code></a>, <a href="../../../api/instance-methods/#ractiveoff"><code>ractive.off()</code></a> and <a href="../../../api/instance-methods/#ractivefire"><code>ractive.fire()</code></a>, <a href="../../../api/instance-methods/#ractiveoff"><code>ractive.off()</code></a> and <a href="../../../api/instance-methods/#ractivefire"><code>ractive.fire</code></a> - see <a href="">Events</a> for more info.</p>
<h1 id="observing-models-with-nested-properties">Observing models with nested properties</h1>
<p>But the normal pub/sub mechanism won't work for monitoring data changes with Ractive, because our data can contain nested properties. It's no good subscribing to a <code>change:foo.bar</code> event, if <code>foo.bar</code> can change as a result of <code>foo</code> changing.</p>
<p>So instead, we introduce the concept of <em>observers</em>.</p>
<p>An observer observes a particular <a href="">keypath</a>, and is <em>notified</em> when the value of its keypath changes, whether directly or indirectly (because an <em>upstream</em> or <em>downstream</em> keypath changed). You create one with <code>ractive.observe()</code> (see <a href="../../../api/instance-properties#ractiveobserve"><code>ractive.observe()</code></a> for full method
API).</p>
<p>Here's an example:</p>
<pre><code class="js">ractive = new Ractive({
  el: myContainer,
  template: myTemplate,
  data: {
    foo: { bar: 1 }
  }
});

// The observer will be initialised with ( currentValue, undefined ) unless
// we pass a third `options` argument in which `init` is `false`. In other
// words this will alert 'foo.bar changed to 1'
observer = ractive.observe( 'foo.bar', function ( newValue, oldValue, keypath ) {
  alert( keypath + ' changed to ' + newValue );
});

ractive.set( 'foo.bar', 2 ); // alerts 'foo.bar changed to 2'
ractive.get( 'foo' ); // returns { bar: 2 }

ractive.set( 'foo', { bar: 3 }); // alerts 'foo.bar changed to 3'
ractive.get( 'foo.bar' ); // returns 3

observer.cancel();

ractive.set( 'foo.bar', 4 ); // alerts nothing; the observer was cancelled
</code></pre>

<p>Observers are most useful in the context of <a href="">two‐way binding</a>.</p>
<h1 id="pattern-observers">Pattern Observers</h1>
<p>It is useful to observe on specific keypaths but in the event your data contains array, or a set of dynamic data it isn't logical to bind to every potential keypath that could exist. Pattern observers use a <code>*</code> to indicate to Ractive that you would like to be notified whenever anything changes in your data at a particular depth as well as below the specified depth.</p>
<p>There are a few caveats when it comes to observing on array data, when observing on keypath <code>people.*</code> you are observing on the length of the array. This means that the <code>newValue</code> will be the index at which the new object was pushed. However when you use <code>set</code> to change an item at a particular index or a key that is on an object in the array then it will provide the object as the <code>newValue</code>.</p>
<pre><code class="js">var ractive = new Ractive({
  el: myContainer,
  template: myTemplate,
  data: {
    people: [
      {name: 'Rich Harris'},
      {name: 'Marty Nelson'}
    ]
  }
});

ractive.observe('people.*', function(newValue, oldValue, keypath) {

});

var people = ractive.get('people');
people.push({name: 'Jason Brown'});
//newValue will equal 3, and the keypath will be people.length

ractive.set('people.3', {name: 'Jack Black'});
//newValue will be {name: 'Jack Black'} and the keypath will be people.3

ractive.set('people.3.isACelebrity', true);
//newValue will be {name: 'Jack Black', isACelebrity: true} and the keypath will be people.3

ractive.set('people.0.info.isCreator', true);
//newValue will be the object for index 0 and the keypath will be people.0

</code></pre>

<p>Notice that because you are observing at the array level that <code>newValue</code> will be set as the entire object. What if you were only interested in knowing when a user became a celebrity? Simply tell Ractive you only want to observe dynamically on the array but only be notified when the <code>isACelebrity</code> key changes, <code>people.*.isACelebrity</code>.</p>
<pre><code class="js">ractive.observe('people.*.isACelebrity', function(newValue, oldValue, keypath) {

});

ractive.set('people.0.isACelebrity', true); //Rich Harris is a celebrity
//newValue will be `true` and the keypath will be people.0.isACelebrity

</code></pre>

<p>You are not limited to just one <code>*</code> for your pattern, you can use as many as you would like and in any particular order.</p>
<pre><code class="js">
ractive.observe('people.*.comments.*', function(newValue, oldValue, keypath) {

});

//even arrays of arrays

ractive.observe('people.*.*', function(newValue, oldValue, keypath) {

});

</code></pre>

<p>Furthermore it works on objects as well <code>config.*</code> will notify you when a value is changed on any key on the config object. However this differs from observing on an array in that it will provide the value set and keypath to the key that was set.</p>
<pre><code class="js">var ractive = new Ractive({
  el: myContainer,
  template: myTemplate,
  data: {
    config: {
      allowComments: true,
      allowEdit: false
    }
  }
});

ractive.observe('config.*', function(newValue, oldValue, keypath) {

});

ractive.set('config.allowEdit', true);
//newValue will be true and the keypath will be config.allowEdit

</code></pre>

<p>In addition to <code>newValue</code>, <code>oldValue</code>, and <code>keypath</code>, any widlcards that are matched in the <code>keypath</code> will be passed to the callback. Each additional wildcard will cause an extra parameter to be passed to the callback. For instance:</p>
<pre><code class="js">ractive.observe('items.*.*', function(newValue, oldValue, keypath, idx, key) {
  console.log('item', idx, key, 'is now', newValue);
});
ractive.set('items.1.foo', 'bar');
// logs 'item 1 foo is now bar'
</code></pre>

<p>Pattern observers are a simple and flexible that will allow you to observe your data any way that you want.</p>
<h1 id="space-delimited-observers">Space Delimited Observers</h1>
<p>Space delimited observers are useful when different keypaths should trigger the same function. In previous version you would have had to bind each keypath individually to the function.</p>
<p>This is a contrived example but for examples sake bare with us.</p>
<pre><code class="js">var ractive = new Ractive({
  el: myContainer,
  template: myTemplate,
  data: {
    user: {username: 'browniefed'},
    config: {isAdmin: false},
    commentCount: 0
  }
});

function updateServer() {
  //Make call to server because something in user, config, comments changed
}

ractive.observe('user.username', updateServer);
ractive.observe('config.isAdmin', updateServer);
ractive.observe('commentCount', updateServer);

</code></pre>

<p>This is unecessarily verbose, now with space delimited observers this becomes a single line.</p>
<pre><code class="js">ractive.observe('user.username config.isAdmin commentCount', updateServer);

</code></pre>

<p>This will work with patterns observers as well.</p>
<pre><code class="js">ractive.observe('user.* config.* commentCount', updateServer);

</code></pre>

<h1 id="a-gotcha-to-be-aware-of">A 'gotcha' to be aware of</h1>
<p>Observers will be notified whenever the new value is not equal to the old value - <em>sort of</em>.</p>
<p>What does 'not equal' mean? Well, with <em>primitive values</em> such as strings and numbers, that's easy - they're either identical (in the <code>===</code> sense) or they're not.</p>
<p>With objects and arrays (hereafter, just 'objects', since that's what arrays technically are), it's not so straightforward:</p>
<pre><code class="js">a = { one: 1, two: 2, three: 3 };
b = { one: 1, two: 2, three: 3 };

alert( a === b ); // alerts 'false' - they look the same, but they ain't

b = a;
b.four = 4;

alert( a === b ); // alerts 'true'. Hang on, `a` didn't have a 'four' property?
alert( a.four ); // alerts '4'. Oh. Right.
</code></pre>

<p>So one the one hand, objects which look identical aren't. On the other, you can set a property of an object and have no idea whether doing so resulted in a change.</p>
<p>There are two possible responses to this problem. First, we could do a 'deep clone' of an object whenever we do <code>ractive.set(keypath, object)</code>, using an algorithm similar to <a href="http://api.jquery.com/jQuery.extend/#jQuery-extend-deep-target-object1-objectN">jQuery extend</a>. That would mean any references you held to <code>object</code> would become irrelevant. It would also mean a whole load of extra computation, and probably some very strange behaviour with cyclical data structures. No thanks.</p>
<p>The second is to sidestep the issue, and simply state that for the purposes of determining whether to notify observers, <strong>no two objects are equal, even when they're identical</strong> (unless they're both <code>null</code>, of course - since <code>typeof null === 'object'</code> due to a <a href="http://www.2ality.com/2013/10/typeof-null.html">bug in the language</a>).</p>
<p>This is the safest, sanest behaviour, but it can lead to unexpected behaviour in one situation - accessing properties within an observer:</p>
<pre><code class="js">obj = { a: { b: { c: 1 } } };

ractive = new Ractive({
  el: myContainer,
  template: myTemplate,
  data: { obj: obj }
});

// We observe 'obj.a.b.c' indirectly, and directly
ractive.observe({
  'obj': function ( newObj, oldObj ) {
    alert( 'Indirect observer: changed from ' + oldObj.a.b.c + ' to ' + newObj.a.b.c );
  },
  'obj.a.b.c': function ( newC, oldC ) {
    alert( 'Direct observer: changed from ' + oldC + ' to ' + newC );
  }
});

obj.a.b.c = 2;

// The next line will cause two alerts:
//   'Direct observer: changed from 1 to 2'
//   'Indirect observer: changed from 2 to 2' - because oldObj === newObj
ractive.set( 'obj', obj );
</code></pre>

<p>This is definitely an edge case, but one that it's worth being aware of.</p></div>
            
        </div>

        <div class="footer-nav">
            <a rel="prev" href="../dependents/">previous</a>
            <a rel="edit" href="https://github.com/ractivejs/ractivejs.github.io/edit/dev/docs/concepts/data-binding/observers.md" target="_blank">edit this page
            <a rel="next" href="../parallel-dom/">next</a>
        </div>

        <footer class="col-md-12 text-center">
            <hr>
            <p>
            <small>©RactiveJS contributors. Ractive.js is a free and open source project released under the MIT license.<br></small>
            
            <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>
        </footer>
    </div>

    <script src="../../../js/jquery-1.10.2.min.js"></script>
    <script src="../../../js/bootstrap-3.0.3.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '../../..';
    </script>
    <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
    <script src="../../../js/base.js"></script>
    <script src="../../../js/index.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    </body>

</html>
