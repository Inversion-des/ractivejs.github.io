<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Next-generation DOM manipulation">
  

  
  <link rel="author" href="RactiveJS contributors">
  <link rel="canonical" href="https://ractive.js.org">

  <title>Ractive.js</title>

  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Sans+Pro|Voltaire">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/g/highlight.js@9.11.0(styles/default.min.css),pure@0.6.2(pure-min.css+grids-responsive-min.css)">
  <link rel="stylesheet" href="../../theme.css">

  <link rel="stylesheet" href="/static/css/index.css">

  
</head>

<body>
  <input class="menu-state" type="checkbox" name="menu-state" id="menu-state">
  <label class="menu-toggle" for="menu-state"></label>

  <div class="nav-side pure-menu pure-menu-fixed pure-menu-scrollable">
  <ul class="pure-menu-list">
    
      <li class="pure-menu-item ">
        <a class="pure-menu-link pure-menu-heading" href="../..">Ractive.js</a>
      </li>
      
      </li>
    
      <li class="pure-menu-item ">
        <a class="pure-menu-link pure-menu-heading" href="">Get Started</a>
      </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../get-started/tutorials/hello-world/">Hello, world!</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../get-started/tutorials/nested-properties/">Nested Properties</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../get-started/tutorials/expressions/">Expressions</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../get-started/tutorials/events/">Events</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../get-started/tutorials/conditional-sections/">Conditional Sections</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../get-started/tutorials/iterative-sections/">Iterative Sections</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../get-started/tutorials/two-way-binding/">Two-way Binding</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../get-started/tutorials/partials/">Partials</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../get-started/tutorials/triples-embedded-html/">Triples (Embedded HTML)</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../get-started/tutorials/components/">Components</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../get-started/tutorials/animation/">Animations</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../get-started/tutorials/svg/">SVG</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../get-started/tutorials/transitions/">Transitions</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../get-started/tutorials/decorators/">Decorators</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../get-started/support/">Support</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../get-started/migrating/">Migrating</a>
        </li>
      
      </li>
    
      <li class="pure-menu-item ">
        <a class="pure-menu-link pure-menu-heading" href="">API</a>
      </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../api/initialization-options/">Initialization Options</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../api/static-properties/">Static Properties</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../api/static-methods/">Static Methods</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../api/instance-properties/">Instance Properties</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../api/instance-methods/">Instance Methods</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../api/attributes/">Attributes</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../api/keypath-prefixes/">Keypath Prefixes</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../api/special-references/">Special References</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../api/context/">Context Object</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../api/parse/">Parse</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../api/transition/">Transition</a>
        </li>
      
      </li>
    
      <li class="pure-menu-item pure-menu-selected">
        <a class="pure-menu-link pure-menu-heading" href="">Extend</a>
      </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../adaptors/">Adaptors</a>
        </li>
      
        <li class="pure-menu-item pure-menu-selected">
          <a class="pure-menu-link" href="./">Components</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../decorators/">Decorators</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../easings/">Easings</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../events/">Events</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../interpolators/">Interpolators</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../partials/">Partials</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../transitions/">Transitions</a>
        </li>
      
      </li>
    
      <li class="pure-menu-item ">
        <a class="pure-menu-link pure-menu-heading" href="">Integrations</a>
      </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../api/component-files/">Component Files</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../integrations/loaders/">Loaders</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../integrations/plugins/">Plugins</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../integrations/tools/">Tools</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../integrations/libraries/">Libraries</a>
        </li>
      
      </li>
    
      <li class="pure-menu-item ">
        <a class="pure-menu-link pure-menu-heading" href="">Concepts</a>
      </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../concepts/architecture/">Architecture</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../concepts/rendering/">Rendering</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../concepts/security/">Security</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../concepts/data-binding/">Data Binding</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../concepts/events/">Events</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="../../concepts/templates/">Templates</a>
        </li>
      
      </li>
    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/ractivejs/ractive">Github</a>
    </li>
  </ul>
</div>

  <div class="main">
    <div class="main__header">
      <div class="nav-main pure-menu pure-menu-horizontal pure-menu-fixed">
  <div class="pure-g">
    <div class="pure-u-1 pure-u-lg-1-6"></div>
    <div class="pure-u-1 pure-u-lg-2-3">
      <ul class="pure-menu-list">
        
          
            <li class="pure-menu-item ">
              <a class="pure-menu-link" href="../..">Ractive.js</a>
            </li>
          
        
          
            <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover ">
                <span class="pure-menu-link">Get Started</span>
                <ul class="pure-menu-children">
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../get-started/tutorials/hello-world/">Hello, world!</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../get-started/tutorials/nested-properties/">Nested Properties</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../get-started/tutorials/expressions/">Expressions</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../get-started/tutorials/events/">Events</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../get-started/tutorials/conditional-sections/">Conditional Sections</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../get-started/tutorials/iterative-sections/">Iterative Sections</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../get-started/tutorials/two-way-binding/">Two-way Binding</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../get-started/tutorials/partials/">Partials</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../get-started/tutorials/triples-embedded-html/">Triples (Embedded HTML)</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../get-started/tutorials/components/">Components</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../get-started/tutorials/animation/">Animations</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../get-started/tutorials/svg/">SVG</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../get-started/tutorials/transitions/">Transitions</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../get-started/tutorials/decorators/">Decorators</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../get-started/support/">Support</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../get-started/migrating/">Migrating</a>
                    </li>
                  
                </ul>
            </li>
          
        
          
            <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover ">
                <span class="pure-menu-link">API</span>
                <ul class="pure-menu-children">
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../api/initialization-options/">Initialization Options</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../api/static-properties/">Static Properties</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../api/static-methods/">Static Methods</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../api/instance-properties/">Instance Properties</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../api/instance-methods/">Instance Methods</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../api/attributes/">Attributes</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../api/keypath-prefixes/">Keypath Prefixes</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../api/special-references/">Special References</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../api/context/">Context Object</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../api/parse/">Parse</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../api/transition/">Transition</a>
                    </li>
                  
                </ul>
            </li>
          
        
          
            <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover pure-menu-selected">
                <span class="pure-menu-link">Extend</span>
                <ul class="pure-menu-children">
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../adaptors/">Adaptors</a>
                    </li>
                  
                    <li class="pure-menu-item pure-menu-selected">
                      <a class="pure-menu-link" href="./">Components</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../decorators/">Decorators</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../easings/">Easings</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../events/">Events</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../interpolators/">Interpolators</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../partials/">Partials</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../transitions/">Transitions</a>
                    </li>
                  
                </ul>
            </li>
          
        
          
            <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover ">
                <span class="pure-menu-link">Integrations</span>
                <ul class="pure-menu-children">
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../api/component-files/">Component Files</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../integrations/loaders/">Loaders</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../integrations/plugins/">Plugins</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../integrations/tools/">Tools</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../integrations/libraries/">Libraries</a>
                    </li>
                  
                </ul>
            </li>
          
        
          
            <li class="pure-menu-item pure-menu-has-children pure-menu-allow-hover ">
                <span class="pure-menu-link">Concepts</span>
                <ul class="pure-menu-children">
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../concepts/architecture/">Architecture</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../concepts/rendering/">Rendering</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../concepts/security/">Security</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../concepts/data-binding/">Data Binding</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../concepts/events/">Events</a>
                    </li>
                  
                    <li class="pure-menu-item ">
                      <a class="pure-menu-link" href="../../concepts/templates/">Templates</a>
                    </li>
                  
                </ul>
            </li>
          
        
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://github.com/ractivejs/ractive">Github</a>
        </li>
      </ul>
    </div>
  </div>
</div>
    </div>
    <div class="main__page">
      
  <div class="pure-g">
    <div class="pure-u-1 pure-u-lg-1-6"></div>
    <div class="pure-u-1 pure-u-lg-2-3">
      <div class="pure-g">
        <div class="pure-u-1 pure-u-md-1-4">
          <div class="main__sidebar">
            <div class="toc pure-menu pure-menu-scrollable">
  <ul class="pure-menu-list">
    
      <li class="pure-menu-item pure-menu-selected">
        <a class="pure-menu-link pure-menu-heading" href="#components">Components</a>
      </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="#writing">Writing</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="#registering">Registering</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="#using">Using</a>
        </li>
      
        <li class="pure-menu-item ">
          <a class="pure-menu-link" href="#examples">Examples</a>
        </li>
      
      </li>
    
  </ul>
</div>
          </div>
        </div>
        <div class="pure-u-1 pure-u-md-3-4">
          <div class="main__content">
            <h1 id="components">Components</h1>
<p>In many situations, you want to encapsulate behaviour and markup into a single reusable <em>component</em>, which can be dropped into Ractive applications. Components are simply custom-configured "subclasses" of Ractive (analogous, but technically incorrect).</p>
<h2 id="writing">Writing</h2>
<p>There are several ways to write Ractive components. Standard <a href="../../api/initialization-options/">initialization options</a> apply for configuration unless where changes are explicitly mentioned.</p>
<p>The most common way to define a component is by using <a href="../../api/static-methods/#ractiveextend"><code>Ractive.extend()</code></a>.</p>
<pre><code class="js">// A subclass of Ractive
const MyComponent = Ractive.extend({
  template: `
    &lt;div class=&quot;my-component&quot;&gt;
      &lt;span class=&quot;my-component__message&quot;&gt;{{ message }}&lt;/span&gt;
    &lt;/div&gt;
  `,
  css: `
    .my-component__message { color: red }
  `,
  data: { message: 'Hello World' }
});
</code></pre>

<p>Another way to define a component is by using <a href="../../api/component-files/">component files</a> and <a href="../../integrations/loaders/">loaders</a>.</p>
<pre><code class="html">&lt;div class=&quot;my-component&quot;&gt;
  &lt;span class=&quot;my-component__message&quot;&gt;{{ message }}&lt;/span&gt;
&lt;/div&gt;

&lt;style&gt;
  .my-component__message { color: red }
&lt;/style&gt;

&lt;script&gt;
component.exports = {
  data: { message: 'Hello World' }
};
&lt;/script&gt;
</code></pre>

<h2 id="registering">Registering</h2>
<p>Like other plugins, there's 3 ways you can register components:</p>
<h3 id="globally-via-the-ractivecomponents-static-property">Globally, via the <code>Ractive.components</code> static property:</h3>
<pre><code class="js">// Available to all instances of Ractive.
Ractive.components.MyComponent = Ractive.extend({ ... });
</code></pre>

<h3 id="per-component-via-the-components-components-initialization-property">Per component, via the component's <code>components</code> initialization property.</h3>
<pre><code class="js">// Only available for instances of AnotherComponent.
const AnotherComponent = Ractive.extend({
  components: { MyComponent }
});
</code></pre>

<h3 id="per-instance-via-the-instances-components-initialization-property">Per instance, via the instance's <code>components</code> initialization property.</h3>
<pre><code class="js">// Only available to this specific instance.
const ractive = new Ractive({
  components: { MyComponent }
});
</code></pre>

<h2 id="using">Using</h2>
<p>Components are simply subclasses of Ractive, which means the are instatiable via the <code>new</code> keyword.</p>
<pre><code class="js">const ractive = new MyComponent({ ... });
</code></pre>

<p>But where components really shine is when they're used on templates. They are written like <em>custom elements</em>. Each custom element notation represents one instance of the component.</p>
<pre><code class="js">const AnotherComponent = Ractive.extend({
  template: `
    &lt;div&gt;
      &lt;MyComponent /&gt; &lt;!-- One instance of MyComponent --&gt;
      &lt;MyComponent /&gt; &lt;!-- Another instance of MyComponent --&gt;
      &lt;MyComponent /&gt; &lt;!-- Yet another instance of MyComponent --&gt;
    &lt;/div&gt;
  `
});
</code></pre>

<p>The component's tag name depends on the name used upon registration. The same component can be registered more than once using different names.</p>
<pre><code class="js">const MyComponent = Ractive.extend({...});
Ractive.components.MyComponent = MyComponent;
Ractive.components.MyComponentOtherName = MyComponent;

const AnotherComponent = Ractive.extend({
  template: `
    &lt;div&gt;
      &lt;MyComponent /&gt;          &lt;!-- Using MyComponent --&gt;
      &lt;MyComponentOtherName /&gt; &lt;!-- Using MyComponent's other name --&gt;
    &lt;/div&gt;
  `
});
</code></pre>

<h3 id="isolation">Isolation</h3>
<p>By default, components are "isolated". This means it can only bind data explicitely provided to it.
In the following example, the instance of <code>ChildComponent</code> will not print anything.</p>
<pre><code class="js">Ractive.components.ChildComponent = Ractive.extend({
  template: 'Message missing {{ message }}'
});

const ractive = new Ractive({
  el: 'body',
  template: '&lt;ChildComponent /&gt;',
  data: {
    message: 'The ChildComponent will not know anything about this message'
  }
});
</code></pre>

<p>You have to pass data explicitely:</p>
<pre><code class="js">Ractive.components.ChildComponent = Ractive.extend({
  template: 'My message: {{ message }}'
});

const ractive = new Ractive({
  el: 'body',
  template: `
    &lt;ChildComponent message=&quot;Some static message&quot; /&gt;
    &lt;ChildComponent message=&quot;{{myMessage}}&quot; /&gt;
  `,
  data: {
    myMessage: 'Hello World!'
  }
});
</code></pre>

<p>This ensures the reusability of components in any context and avoids accidentally binding to wrong data.</p>
<hr />
<p>There is also a possibility to make components aware of the outer context by specifying <code>isolated: false</code> <a href="../../api/initialization-options/">initialization option</a>.
In that case, it climbs to the parent component's data context if it does not resolve on the child data context.</p>
<p>In the following example, the instance of <code>ChildComponent</code> prints "Hello World!" even when the data is set on the outer-most instance.</p>
<pre><code class="js">Ractive.components.ChildComponent = Ractive.extend({
  isolated: false,
  template: 'Child: {{ message }}'
});

Ractive.components.ParentComponent = Ractive.extend({
  isolated: false,
  template: 'Nested &lt;ChildComponent /&gt;'
});

const ractive = new Ractive({
  el: 'body',
  template: '&lt;ParentComponent /&gt;',
  data: {
    message: 'The nested component will find me!'
  }
});
</code></pre>

<h3 id="binding">Binding</h3>
<p>Bindings connect a piece of data on the parent instance to data on the child instance. Changes on one side will reflect on the other. The syntax is similar to how one would write HTML element attributes.</p>
<p>The following example binds <code>text</code> on the instance to <code>MyComponent</code>'s <code>message</code>. Updates on the value of <code>text</code> will update <code>message</code>. Typing on the <code>&lt;input&gt;</code> bound to <code>message</code> will update <code>text</code>.</p>
<pre><code class="js">Ractive.components.MyComponent = Ractive.extend({
  template: `
    &lt;input type=&quot;text&quot; value=&quot;{{ message }}&quot;&gt;
  `
});

const ractive = new Ractive({
  el: 'body',
  template: '&lt;MyComponent message=&quot;{{ text }} /&gt;'
});

ractive.set('text', 'Hello World!');
</code></pre>

<h3 id="data-context">Data context</h3>
<p>Each component instance comes with its own data context so that parameters don't pollute the primary data. Bindings will still update across both contexts.</p>
<p>In the following example, we have an instance that has <code>name</code> and <code>colors</code>. We bind bind <code>colors</code> and set an <code>option1</code> to <code>MyComponent</code>. Upon inspection, the data context is just as described. <code>name</code> doesn't cross over to <code>MyComponent</code> nor does <code>option1</code> cross over to the instance. However, since we bound <code>colors</code> to <code>shades</code>, updating one updates the other.</p>
<pre><code class="js">Ractive.components.MyComponent = Ractive.extend({});

const ractive = new Ractive({
  template: `
    &lt;MyComponent shades='{{colors}}' option1='A' /&gt;
  `,
  data: {
    name: 'Colors',
    colors: ['red', 'blue', 'yellow']
  }
});

const widget = ractive.findComponent('MyComponent')

ractive.get(); // {&quot;colors&quot;:[&quot;red&quot;,&quot;blue&quot;,&quot;yellow&quot;], &quot;name&quot;:&quot;Colors&quot;}
widget.get();  // {&quot;shades&quot;:[&quot;red&quot;,&quot;blue&quot;,&quot;yellow&quot;], &quot;option1&quot;:&quot;A&quot;}

ractive.set('colors.1', 'green');

ractive.get(); // {&quot;colors&quot;:[&quot;red&quot;,&quot;green&quot;,&quot;yellow&quot;], &quot;name&quot;:&quot;Colors&quot;}
widget.get();  // {&quot;shades&quot;:[&quot;red&quot;,&quot;green&quot;,&quot;yellow&quot;], &quot;option1&quot;:&quot;A&quot;}

widget.set('colors.2', 'blue');

ractive.get(); // {&quot;colors&quot;:[&quot;red&quot;,&quot;green&quot;,&quot;blue&quot;], &quot;name&quot;:&quot;Colors&quot;}
widget.get();  // {&quot;shades&quot;:[&quot;red&quot;,&quot;green&quot;,&quot;blue&quot;], &quot;option1&quot;:&quot;A&quot;}
</code></pre>

<h3 id="events">Events</h3>
<p>Components can fire events like regular elements using <a href="../../api/instance-methods/#ractivefire">ractive.fire()</a>. Enclosing instances can listen for events using the same <code>on-*</code> event notation. There are two ways to handle component events.</p>
<p>The first is using the method call syntax which is similar to how you would write inline JavaScript.</p>
<pre><code class="js">Ractive.components.ChildComponent = Ractive.extend({
  template: `
    &lt;div&gt;&lt;/div&gt;
  `,
  oncomplete: function(){
    this.fire('boringeventname');
  }
});

Ractive.components.ParentComponent = Ractive.extend({
  template: `
    &lt;ChildComponent on-boringeventname=&quot;@this.greetz()&quot; /&gt;
  `,
  greetz: function(){
    console.log('Hello World');
  }
});
</code></pre>

<p>The other is using the proxy event syntax. It's called "proxy" in the sense that the component event is assigned another name which is actually listened to by the enclosing instance.</p>
<pre><code class="js">Ractive.components.ChildComponent = Ractive.extend({
  template: `
    &lt;div&gt;&lt;/div&gt;
  `,
  oncomplete: function(){
    this.fire('boringeventname');
  }
});

Ractive.components.ParentComponent = Ractive.extend({
  template: `
    &lt;ChildComponent on-boringeventname=&quot;greetz&quot; /&gt;
  `,
  oninit: function(){
    this.on('greetz', function(){
      console.log('Hello World')
    });
  }
});
</code></pre>

<h3 id="bubbling">Bubbling</h3>
<p>Events fired from within components will also "bubble" up the component hierarchy with their component name attached as a namespace. This can be used to avoid having to re-fire events at each level in a deeply nested component hierarchy.</p>
<p>In the following example, the event from the <code>ChildComponent</code> instance can be listened to from the outer Ractive instance.</p>
<pre><code class="js">Ractive.components.ChildComponent = Ractive.extend({
  template: `
    &lt;div&gt;&lt;/div&gt;
  `,
  oncomplete: function(){
    this.fire('childevent');
  }
});

Ractive.components.ParentComponent = Ractive.extend({
  template: `
    &lt;ChildComponent /&gt;
  `
});

const ractive = new Ractive({
  el: 'body',
  template: `
    &lt;ParentComponent /&gt;
  `
});

ractive.on('ChildComponent.childevent', function(){
  console.log('Hello World!');
});
</code></pre>

<p>To listen to the same event name regardless of the component that's firing the event, an <code>*</code> can be used as the namespace.</p>
<pre><code class="js">Ractive.components.ChildComponent = Ractive.extend({
  template: `
    &lt;div&gt;&lt;/div&gt;
  `,
  oncomplete: function(){
    this.fire('sameevent');
  }
});

Ractive.components.ParentComponent = Ractive.extend({
  template: `
    &lt;ChildComponent /&gt;
  `,
  oncomplete: function(){
    this.fire('sameevent');
  }
});

const ractive = new Ractive({
  el: 'body',
  template: `
    &lt;ParentComponent /&gt;
  `
});

ractive.on('*.sameevent', function(){
  console.log('This will fire two times, one for each component.');
});
</code></pre>

<p>The namespace is not bound to the component definition but rather to the name of the component.</p>
<p>In the following example, <code>ChildComponent</code> is registered onto the <code>ParentComponent</code> as <code>ChildComponent1</code> and <code>ChildComponent2</code>. Even with the same definition, there will be two namespaces, one for <code>ChildComponent1</code> and <code>ChildComponent2</code>.</p>
<pre><code class="js">const ChildComponent = Ractive.extend({
  template: `
    &lt;div&gt;&lt;/div&gt;
  `,
  oncomplete: function(){
    this.fire('sameevent');
  }
});

Ractive.components.ParentComponent = Ractive.extend({
  template: `
    &lt;ChildComponent1 /&gt;
    &lt;ChildComponent2 /&gt;
  `,
  components: {
    ChildComponent1: ChildComponent,
    ChildComponent2: ChildComponent
  }
});

const ractive = new Ractive({
  el: 'body',
  template: `
    &lt;ParentComponent /&gt;
  `
});

ractive.on('ChildComponent1.sameevent', function(){
  console.log('Same component definition, instance with name 1.');
});

ractive.on('ChildComponent2.sameevent', function(){
  console.log('Same component definition, instance with name 2.');
});
</code></pre>

<h3 id="stopping-propagation">Stopping propagation</h3>
<p>In order to stop bubbling, simply return <code>false</code> from an event handler. Should the event come from a DOM event, it will call <code>stopPropagation()</code> and <code>preventDefault()</code> automatically.</p>
<p>In the following example, <code>ParentComponent</code> listens to <code>childevent</code> and returns false to in its handler. This prevents the outer instance from receiving the event.</p>
<pre><code class="js">Ractive.components.ChildComponent = Ractive.extend({
  template: `
    &lt;div&gt;&lt;/div&gt;
  `,
  oncomplete: function(){
    this.fire('childevent');
  }
});

Ractive.components.ParentComponent = Ractive.extend({
  template: `
    &lt;ChildComponent /&gt;
  `,
  oninit: function(){
    this.on('ChildComponent.childevent', function(){
      return false;
    });
  }
});

const ractive = new Ractive({
  el: 'body',
  template: `
    &lt;ParentComponent /&gt;
  `
});

ractive.on('ChildComponent.childevent', function(){
  console.log('This will not fire');
});
</code></pre>

<p>Events that have been assigned a handler using <code>on-*</code> will also prevent the bubbling of the original event. A proxy event is assigned, will bubble in its place.</p>
<p>In the following example, <code>childevent1</code> is prevented by not assigning a handle. <code>childevent2</code> is prevented by having a proxy event <code>childevent2proxy</code> assigned to it, which will also bubble in its place. <code>childevent3</code> is prevented by a method call.</p>
<pre><code class="js">Ractive.components.ChildComponent = Ractive.extend({
  template: `
    &lt;div&gt;&lt;/div&gt;
  `,
  oncomplete: function() {
    this.fire('childevent1');
    this.fire('childevent2');
    this.fire('childevent3');
  }
});

Ractive.components.ParentComponent = Ractive.extend({
  template: `
    &lt;ChildComponent on-childevent1=&quot;&quot; on-childevent2=&quot;childevent2proxy&quot; on-childevent3=&quot;@this.parentMethod()&quot; /&gt;
  `,
  oninit: function() {
    this.on('childevent2proxy', function() {
      console.log('childevent2 handled and will no longer bubble.');
      console.log('childevent2proxy will take its place.');
    });
  },
  parentMethod: function(){
    console.log('childevent3 handled by a method')
  }
});

const ractive = new Ractive({
  el: 'body',
  template: `
    &lt;ParentComponent /&gt;
  `
});

ractive.on('ChildComponent.childevent1', function() {
  console.log('childevent1 stopped');
});

ractive.on('ChildComponent.childevent2', function() {
  console.log('childevent2 stopped');
});

ractive.on('ParentComponent.childevent2proxy', function() {
  console.log('childevent2proxy fired');
});

ractive.on('ChildComponent.childevent3', function() {
  console.log('childevent3 fired');
});
</code></pre>

<h3 id="content">{{&gt;content}}</h3>
<p><code>{{&gt;content}}</code> renders the inner HTML in the context of the component. Partials, components, and any other valid template items can be used as inner HTML. <code>{{&gt;content}}</code> can be thought of as a special partial.</p>
<p>In the following example, the result will print "Lorem Ipsum" because the inner HTML's context is the component, whose <code>message</code> is set to "Lorem Ipsum".</p>
<pre><code class="js">Ractive.components.ChildComponent = Ractive.extend({
  template: `
    &lt;div class=&quot;child-component&quot;&gt;{{&gt;content}}&lt;/div&gt;
  `
});

const ractive = new Ractive({
  el: 'body',
  data: {
    message: 'Hello World!'
  },
  template: `
    &lt;div class=&quot;ractive&quot;&gt;
      &lt;ChildComponent message=&quot;Lorem Ipsum&quot;&gt;
        &lt;div class=&quot;inner-content&quot;&gt;{{ message }}&lt;/div&gt;
      &lt;/ChildComponent&gt;
    &lt;/div&gt;
  `
});
</code></pre>

<p>Partials defined in the inner HTML can be used to override partials defined on the component. This can be used to allow easy customization of each instance using partials.</p>
<p>In the following example, <code>ChildComponent</code>'s default template for the <code>messageWrapper</code> partial is a <code>&lt;strong&gt;</code>. Upon use of <code>ChildComponent</code> in the instance, it overrides the partial to use an <code>&lt;em&gt;</code> instead.</p>
<pre><code class="js">Ractive.components.ChildComponent = Ractive.extend({
  partials: {
    messageWrapper: '&lt;strong&gt;{{message}}&lt;/strong&gt;'
  },
  template: `
    &lt;div class=&quot;child-component&quot;&gt;{{&gt;content}}&lt;/div&gt;
  `
});

const ractive = new Ractive({
  el: 'body',
  data: {
    message: 'Hello World!'
  },
  template: `
    &lt;div class=&quot;ractive&quot;&gt;
      &lt;ChildComponent message=&quot;Lorem Ipsum&quot;&gt;

        {{#partial messageWrapper}}&lt;em&gt;{{message}}&lt;/em&gt;{{/}}

        &lt;div class=&quot;inner-content&quot;&gt;
          {{&gt; messageWrapper }}
        &lt;/div&gt;

      &lt;/ChildComponent&gt;
    &lt;/div&gt;
  `
});
</code></pre>

<h3 id="yield">{{yield}}</h3>
<p><code>{{yield}}</code> renders the inner HTML in the context of the parent component. Partials, components, and any other valid template items can be used as inner HTML. A common use case of <code>{{yield}}</code> is to provide wrapper markup transparently.</p>
<p>In the following example, the result will print "Hello World!" because the inner HTML's context is the parent component's, whose <code>message</code> is "Hello World!".</p>
<pre><code class="js">Ractive.components.ChildComponent = Ractive.extend({
  template: `
    &lt;div class=&quot;child-component&quot;&gt;{{ yield }}&lt;/div&gt;
  `
});

const ractive = new Ractive({
  el: 'body',
  data: {
    message: 'Hello World!'
  },
  template: `
    &lt;div class=&quot;ractive&quot;&gt;
      &lt;ChildComponent message=&quot;Lorem Ipsum&quot;&gt;
        &lt;div class=&quot;inner-content&quot;&gt;{{ message }}&lt;/div&gt;
      &lt;/ChildComponent&gt;
    &lt;/div&gt;
  `
});
</code></pre>

<p>Yields can also be customized using named yields. Instead of rendering with the component's inner HTML, a named yield will look for a partial in the inner HTML with the same name and use that to render the yielded content.</p>
<p>In the following example, <code>ChildComponent</code> renders the yield content 3 times. However, the last two yields will look for <code>italicYield</code> and <code>boldYield</code> partials in the inner HTML and use that to render. What's rendered is three "Hello World!"s in regular, italic and bold.</p>
<pre><code class="js">Ractive.components.ChildComponent = Ractive.extend({
  template: `
    &lt;div class=&quot;child-component&quot;&gt;
      {{ yield }}
      {{ yield italicYield }}
      {{ yield boldYield }}
    &lt;/div&gt;
  `
});

const ractive = new Ractive({
  el: 'body',
  data: {
    message: 'Hello World!'
  },
  template: `
    &lt;div class=&quot;ractive&quot;&gt;
      &lt;ChildComponent message=&quot;Lorem Ipsum&quot;&gt;
        {{#partial italicYield }}&lt;em&gt;{{message}}&lt;/em&gt;{{/}}
        {{#partial boldYield }}&lt;strong&gt;{{message}}&lt;/strong&gt;{{/}}
        {{message}}
      &lt;/ChildComponent&gt;
    &lt;/div&gt;
  `
});
</code></pre>

<h2 id="examples">Examples</h2>
<pre><code></code></pre>
          </div>
        </div>
      </div>
    </div>
  </div>

    </div>
    <div class="main__footer">
      <div class="page-controls">
  <a class="page-controls__link" rel="edit" href="https://github.com/ractivejs/ractivejs.github.io/edit/dev/docs/extend/components.md" target="_blank">Edit this page</a>
</div>

<p class="credits">©RactiveJS contributors. Ractive.js is a free and open source project released under the MIT license.</p>
    </div>
  </div>

  <script src="//cdn.jsdelivr.net/g/jquery@3.2.1,highlight.js@9.11.0"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script src="../../static/js/index.js"></script>
</body>

</html>