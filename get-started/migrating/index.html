<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="author" content="RactiveJS contributors"> 
    <link rel="canonical" href="https://ractive.js.org/get-started/migrating/"> 
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="theme-color" content="#557526">

    <title>Migrating - Ractive.js</title>

    <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../css/base.css" rel="stylesheet">
    <link href="../../css/cinder.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">


    <link href="../../css/index.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Ractive.js</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Started <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../tutorials/hello-world/">Hello, world!</a>
</li>

                        
                            
<li >
    <a href="../tutorials/nested-properties/">Nested Properties</a>
</li>

                        
                            
<li >
    <a href="../tutorials/expressions/">Expressions</a>
</li>

                        
                            
<li >
    <a href="../tutorials/events/">Events</a>
</li>

                        
                            
<li >
    <a href="../tutorials/conditional-sections/">Conditional Sections</a>
</li>

                        
                            
<li >
    <a href="../tutorials/iterative-sections/">Iterative Sections</a>
</li>

                        
                            
<li >
    <a href="../tutorials/two-way-binding/">Two-way Binding</a>
</li>

                        
                            
<li >
    <a href="../tutorials/partials/">Partials</a>
</li>

                        
                            
<li >
    <a href="../tutorials/triples-embedded-html/">Triples (Embedded HTML)</a>
</li>

                        
                            
<li >
    <a href="../tutorials/components/">Components</a>
</li>

                        
                            
<li >
    <a href="../tutorials/animation/">Animations</a>
</li>

                        
                            
<li >
    <a href="../tutorials/svg/">SVG</a>
</li>

                        
                            
<li >
    <a href="../tutorials/transitions/">Transitions</a>
</li>

                        
                            
<li >
    <a href="../tutorials/decorators/">Decorators</a>
</li>

                        
                            
<li >
    <a href="../support/">Support</a>
</li>

                        
                            
<li class="active">
    <a href="./">Migrating</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">API <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../api/initialization-options/">Initialization Options</a>
</li>

                        
                            
<li >
    <a href="../../api/static-properties/">Static Properties</a>
</li>

                        
                            
<li >
    <a href="../../api/static-methods/">Static Methods</a>
</li>

                        
                            
<li >
    <a href="../../api/instance-properties/">Instance Properties</a>
</li>

                        
                            
<li >
    <a href="../../api/instance-methods/">Instance Methods</a>
</li>

                        
                            
<li >
    <a href="../../api/attributes/">Attributes</a>
</li>

                        
                            
<li >
    <a href="../../api/keypath-prefixes/">Keypath Prefixes</a>
</li>

                        
                            
<li >
    <a href="../../api/special-references/">Special References</a>
</li>

                        
                            
<li >
    <a href="../../api/context/">Context Object</a>
</li>

                        
                            
<li >
    <a href="../../api/parse/">Parse</a>
</li>

                        
                            
<li >
    <a href="../../api/transition/">Transition</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Extend <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../extend/adaptors/">Adaptors</a>
</li>

                        
                            
<li >
    <a href="../../extend/components/">Components</a>
</li>

                        
                            
<li >
    <a href="../../extend/decorators/">Decorators</a>
</li>

                        
                            
<li >
    <a href="../../extend/easings/">Easings</a>
</li>

                        
                            
<li >
    <a href="../../extend/events/">Events</a>
</li>

                        
                            
<li >
    <a href="../../extend/interpolators/">Interpolators</a>
</li>

                        
                            
<li >
    <a href="../../extend/partials/">Partials</a>
</li>

                        
                            
<li >
    <a href="../../extend/transitions/">Transitions</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Integrations <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../api/component-files/">Component Files</a>
</li>

                        
                            
<li >
    <a href="../../integrations/loaders/">Loaders</a>
</li>

                        
                            
<li >
    <a href="../../integrations/plugins/">Plugins</a>
</li>

                        
                            
<li >
    <a href="../../integrations/tools/">Tools</a>
</li>

                        
                            
<li >
    <a href="../../integrations/libraries/">Libraries</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Concepts <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../concepts/architecture/">Architecture</a>
</li>

                        
                            
<li >
    <a href="../../concepts/rendering/">Rendering</a>
</li>

                        
                            
<li >
    <a href="../../concepts/security/">Security</a>
</li>

                        
                            
<li >
    <a href="../../concepts/data-binding/">Data Binding</a>
</li>

                        
                            
<li >
    <a href="../../concepts/events/">Events</a>
</li>

                        
                            
<li >
    <a href="../../concepts/templates/">Templates</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../support/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../../api/initialization-options/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/ractivejs/ractive">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

    <div id="main">
        <div class="container">
            
            <div class="col-md-3" role="subnav"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="first-level active"><a href="#migrating-from-previous-versions">Migrating from previous versions</a></li>
        
            <li class="second-level"><a href="#08-to-09">0.8 to 0.9</a></li>
            
                <li class="third-level"><a href="#removed-deprecations">Removed deprecations</a></li>
            
                <li class="third-level"><a href="#template-format">Template format</a></li>
            
                <li class="third-level"><a href="#partial-context">Partial context</a></li>
            
                <li class="third-level"><a href="#yielding">Yielding</a></li>
            
                <li class="third-level"><a href="#nointro-inheritance">noIntro inheritance</a></li>
            
                <li class="third-level"><a href="#polyfills">Polyfills</a></li>
            
                <li class="third-level"><a href="#node-registry">Node registry</a></li>
            
                <li class="third-level"><a href="#unresolved-references">Unresolved references</a></li>
            
                <li class="third-level"><a href="#live-queries">Live queries</a></li>
            
                <li class="third-level"><a href="#change-event">change event</a></li>
            
                <li class="third-level"><a href="#event-reference">event reference</a></li>
            
                <li class="third-level"><a href="#ractivemerge">ractive.merge</a></li>
            
                <li class="third-level"><a href="#isolation">Isolation</a></li>
            
                <li class="third-level"><a href="#magic-and-array-adaptors">Magic and array adaptors</a></li>
            
                <li class="third-level"><a href="#class-directives">class- directives</a></li>
            
                <li class="third-level"><a href="#getnodeinfo">getNodeInfo</a></li>
            
                <li class="third-level"><a href="#multiple-inheritance">Multiple inheritance</a></li>
            
        
            <li class="second-level"><a href="#07-to-08">0.7 to 0.8</a></li>
            
                <li class="third-level"><a href="#template-format_1">Template format</a></li>
            
                <li class="third-level"><a href="#ie8">IE8</a></li>
            
                <li class="third-level"><a href="#expressions-and-binding">Expressions and binding</a></li>
            
                <li class="third-level"><a href="#relaxed-partial-names">Relaxed partial names</a></li>
            
                <li class="third-level"><a href="#integer-references">Integer references</a></li>
            
                <li class="third-level"><a href="#array-modification">Array modification</a></li>
            
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="migrating-from-previous-versions">Migrating from previous versions</h1>
<p>These are notes to help you migrate from an older version of Ractive.js to a newer one, mostly centered on breaking changes between versions. If you'd like to find out more about new features, you can check out the <a href="https://github.com/ractivejs/ractive/blob/dev/CHANGELOG.md">changelog</a>.</p>
<h2 id="08-to-09">0.8 to 0.9</h2>
<h3 id="removed-deprecations">Removed deprecations</h3>
<p>0.9 removes any of the remaining deprecations from 0.8, including:</p>
<ul>
<li><code>decorator="name:{{arg1}},{{arg2}}</code> directives, to be replaced with <code>as-name="arg1, arg2"</code></li>
<li><code>intro="name:{{ { arg1: arg1, arg2, arg2 } }}"</code> and the same forms of <code>outro</code> and <code>intro-outro</code> to be replaced with <code>name-in="{ arg1, arg2 }"</code> and the same forms of <code>name-out</code> and <code>name-in-out</code></li>
<li>The <code>ractive.data</code> getter, to be replaced with <code>ractive.get()</code>, which returns a computed object tree containing virtual keys like mappings, links, and computations. The optional form <code>ractive.get({ virtual: false })</code> will return the raw root object without any virtual keys.</li>
<li>Lifecycle methods <code>init</code> and <code>beforeInit</code>, to be replaced with lifecycle events or equivalent instance methods. <code>beforeInit</code> corresponds to the <code>construct</code> lifecycle event.</li>
<li>Partial comments in the form of <code>&lt;!-- {{&gt;myPartial}} --&gt;...&lt;!-- {{/myPartial}} --&gt;</code>, to be replaced with partial blocks <code>{{#partial myPartial}}...{{/partial}}</code></li>
</ul>
<h3 id="template-format">Template format</h3>
<p>The template format produced by <code>Ractive.parse</code> has changed, making it incompatible with previous versions of Ractive.js and their template formats. You will need to re-parse any pre-parsed templates for use with 0.9.</p>
<h3 id="partial-context">Partial context</h3>
<p>Any context provided to a partial <code>{{&gt;my-partial context}}</code> is no longer wrapped around the partial but is instead wrapped around the <em>content</em> of the partial. It's a subtle difference that only shows up when the partial name is an expression e.g. <code>{{&gt;.type ~/external.item}}</code>. Before this break, the <code>.type</code> would resolve to <code>~/external.item.type</code>, and now it will resolve to <code>.type</code> on the context in which the partial appears.</p>
<h3 id="yielding">Yielding</h3>
<p>Yielding is no longer restricted to inline partials, and each partial may be yielded more than once. You will no longer get a warning if you try to yield an instance or dynamic partial or if you yield the same partial multiple times.</p>
<h3 id="nointro-inheritance"><code>noIntro</code> inheritance</h3>
<p>The <code>noIntro</code> setting of an instance that contains components will now apply to the components too, unless those components have their own <code>noIntro</code> setting.</p>
<h3 id="polyfills">Polyfills</h3>
<p>There is no longer a <code>legacy</code> build of Ractive.js available. Instead, a separate <code>polyfills</code> library is available that can be included before Ractive.js is loaded, or you can supply your own polyfills, shims, or shams.</p>
<h3 id="node-registry">Node registry</h3>
<p>Elements with an <code>id</code> attribute are no longer collected into a <code>nodes</code> map on the Ractive.js instance. If you require similar functionality, it can be achieved in a much more flexible way with a decorator.</p>
<h3 id="unresolved-references">Unresolved references</h3>
<p>References that don't resolve are no longer kept in an unresolved state, waiting on an appropriate keypath to pop into existence somewhere in the context hierarchy. Instead, references that don't resolve are immediately resolved in the current context, which tends to be the desired behavior in most circumstances.</p>
<h3 id="live-queries">Live queries</h3>
<p>Element and component queries no longer support automatically keeping the resulting array up to date as new matching elements or components are rendered. If you require similar functionality, it can be achieved with a decorator for elements or bubbled lifecycle events for components.</p>
<h3 id="change-event"><code>change</code> event</h3>
<p>The <code>change</code> event has been removed and replaced by recursive observers, which are strictly opt-in and can be scoped to a deeper keypath than the root.</p>
<h3 id="event-reference"><code>event</code> reference</h3>
<p>The <code>event</code> special reference available to event directives has been deprecated and replaced with three special references:</p>
<ul>
<li><code>@context</code>, which is roughly equivalent to <code>event</code>, but with both an <code>event</code> and <code>original</code> key that point to the original event object. This is a <a href="../../api/context/">context object</a>.</li>
<li><code>@event</code>, which is resolves to the original event that triggered the directive.</li>
<li><code>@node</code>, which resolves to the element to which the event directive is attached.</li>
</ul>
<h3 id="ractivemerge"><code>ractive.merge</code></h3>
<p><code>ractive.merge</code> has been removed and replaced by an option on <code>ractive.set</code>, <code>{ shuffle: true }</code>, which more accurately reflects what actually happens. <code>merge</code> did not merge data, but instead re-arranged any DOM associated with the elements in the given array to match the order of the array - hence <code>shuffle</code> rather than <code>merge</code>.</p>
<h3 id="isolation">Isolation</h3>
<p>Components are now <code>isolated</code> by default. If you need non-<code>isolated</code> components in order to create implicit mappings as data is accessed, you can pass <code>isolated: false</code> to <code>extend</code> when creating the component. If you prefer all components to be non-<code>isolated</code> by default, you can set <code>Ractive.defaults.isolated = false</code>.</p>
<p>Further, non-<code>isolated</code> components will now create implicit mappings when necessary for <code>set</code> operations, including <code>add</code>, <code>subtract</code>, etc, in addition to <code>get</code> operations. To avoid creating an implicit mapping with a <code>set</code> operation from a non-<code>isolated</code> component, pass <code>{ isolated: true }</code> as an option to the <code>set</code> method.</p>
<h3 id="magic-and-array-adaptors">Magic and array adaptors</h3>
<p>The magic and array adaptors are no longer part of Ractive.js core. They may be reappear as independent plugins at some point in the future.</p>
<h3 id="class-directives"><code>class-</code> directives</h3>
<p><code>class-</code> directives are now parsed in an expression context like decorator, transition, and event directives, rather than in a string context like attributes and <code>style-</code> directives. This means that mustaches are no longer required for <code>class-</code> directive values, so you should use <code>class-selected=".selected"</code> rather than <code>class-selected="{{.selected}}"</code>.</p>
<h3 id="getnodeinfo"><code>getNodeInfo</code></h3>
<p><code>ractive.getNodeInfo</code> has been renamed to <code>ractive.getContext</code>, as has the static version of the function, to more accurately reflect its function. The <code>getNodeInfo</code> alias is deprecated and will be removed in a future version.</p>
<h3 id="multiple-inheritance">Multiple inheritance</h3>
<p>Components can no longer inherit from multiple other components at the same level, meaning that <code>Ractive.extend(FirstComponent, SecondComponent)</code> is no longer possible. You can still set up an inheritance hierachy multiple levels deep with <code>Ractive.extend(FirstComponent).extend(SecondComponent)</code>.</p>
<h2 id="07-to-08">0.7 to 0.8</h2>
<h3 id="template-format_1">Template format</h3>
<p>The template format produced by <code>Ractive.parse</code> has changed, making it incompatible with previous versions of Ractive.js and their template formats. You will need to re-parse any pre-parsed templates for use with 0.8.</p>
<h3 id="ie8">IE8</h3>
<p>IE8 is no longer supported. If you still need to support IE8, well, we're very, very sorry...</p>
<h3 id="expressions-and-binding">Expressions and binding</h3>
<p>Two-way bindings are no longer supported in computed contexts that don't have a <code>set</code>ter, including template expression contexts. This means that <code>{{#each filter(list)}}&lt;input value="{{.name}}" /&gt;{{/each}}</code> is no longer possible. The reasoning behind this change is that the original <code>list.${index}.name</code> is not updated when the binding within the computed context in the <code>each</code> expression is changed. 0.9 adds an instance flag <code>syncComputedChildren</code> that can address this.</p>
<h3 id="relaxed-partial-names">Relaxed partial names</h3>
<p>Partial names can now include <code>\</code> characters, which can be problematic if you happen to use division with no spaces arount the <code>/</code> in a partial expression.</p>
<h3 id="integer-references">Integer references</h3>
<p>Integers are no longer considered references, even in an array context, meaning that in <code>{{#with [1, 2, 3]}}{{0}}{{/with}}</code> will no longer result in <code>1</code> being rendered. Integers are now stricly considered to integer literals. If you need to reference a specific index in an array context, you can do so with a context specific reference like <code>{{this.0}}</code>.</p>
<h3 id="array-modification">Array modification</h3>
<p><code>modifyArrays</code> now defaults to <code>false</code>, so the array adaptor is not applied to arrays automatically as they are added to the instance data. The preferred method of performing array operations is using the <code>splice</code>, <code>push</code>, <code>pop</code>, etc methods on the Ractive.js instance.</p></div>
            
        </div>

        <div class="footer-nav">
            <a rel="prev" href="../support/">previous</a>
            <a rel="edit" href="https://github.com/ractivejs/ractivejs.github.io/edit/dev/docs/get-started/migrating.md" target="_blank">edit this page
            <a rel="next" href="../../api/initialization-options/">next</a>
        </div>

        <footer class="col-md-12 text-center">
            <hr>
            <p>
            <small>©RactiveJS contributors. Ractive.js is a free and open source project released under the MIT license.<br></small>
            
            <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>
        </footer>
    </div>

    <script src="../../js/jquery-1.10.2.min.js"></script>
    <script src="../../js/bootstrap-3.0.3.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '../..';
    </script>
    <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
    <script src="../../js/base.js"></script>
    <script src="../../js/index.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    </body>

</html>
