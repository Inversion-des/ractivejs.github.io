<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="author" content="RactiveJS contributors"> 
    <link rel="canonical" href="https://ractive.js.org/get-started/examples/analog-clock/"> 
    <link rel="shortcut icon" href="../../../img/favicon.ico">

    <title>Analog Clock - Ractive.js</title>

    <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../../css/base.css" rel="stylesheet">
    <link href="../../../css/cinder.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">


    <link href="../../../css/index.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">Ractive.js</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Started <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../..">Introduction</a>
</li>

                        
                            
<li >
    <a href="../../60-second-setup/">60-second Setup</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Examples</a>
    <ul class="dropdown-menu">
        
            
<li class="active">
    <a href="./">Analog Clock</a>
</li>

        
            
<li >
    <a href="../animated-chart/">Animated Chart</a>
</li>

        
            
<li >
    <a href="../comments/">Comments</a>
</li>

        
            
<li >
    <a href="../donut-chart/">Donut Chart</a>
</li>

        
            
<li >
    <a href="../illustration/">Illustration</a>
</li>

        
            
<li >
    <a href="../rating-stars/">Rating Sars</a>
</li>

        
            
<li >
    <a href="../todo-list/">ToDo List</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../../debugging/">Debugging</a>
</li>

                        
                            
<li >
    <a href="../../support/">Support</a>
</li>

                        
                            
<li >
    <a href="../../contributing/">Contributing</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">API <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../api/initialization-options/">Initialization Options</a>
</li>

                        
                            
<li >
    <a href="../../../api/static-properties/">Static Properties</a>
</li>

                        
                            
<li >
    <a href="../../../api/static-methods/">Static Methods</a>
</li>

                        
                            
<li >
    <a href="../../../api/instance-properties/">Instance Properties</a>
</li>

                        
                            
<li >
    <a href="../../../api/instance-methods/">Instance Methods</a>
</li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Helper Objects</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../api/helper-objects/node-info/">Node Info</a>
</li>

        
            
<li >
    <a href="../../../api/helper-objects/parse/">Parse</a>
</li>

        
            
<li >
    <a href="../../../api/helper-objects/transition/">Transition</a>
</li>

        
    </ul>
  </li>

                        
                            
<li >
    <a href="../../../api/errors/">Errors</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Integrations <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../integrations/loaders/">Loaders</a>
</li>

                        
                            
<li >
    <a href="../../../integrations/plugins/">Plugins</a>
</li>

                        
                            
<li >
    <a href="../../../integrations/tools/">Tools</a>
</li>

                        
                            
<li >
    <a href="../../../integrations/libraries/">Libraries</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Extend <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../extend/adaptors/">Adaptors</a>
</li>

                        
                            
<li >
    <a href="../../../extend/components/">Components</a>
</li>

                        
                            
<li >
    <a href="../../../extend/decorators/">Decorators</a>
</li>

                        
                            
<li >
    <a href="../../../extend/easings/">Easings</a>
</li>

                        
                            
<li >
    <a href="../../../extend/events/">Events</a>
</li>

                        
                            
<li >
    <a href="../../../extend/interpolators/">Interpolators</a>
</li>

                        
                            
<li >
    <a href="../../../extend/partials/">Partials</a>
</li>

                        
                            
<li >
    <a href="../../../extend/transitions/">Transitions</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Concepts <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Architecture</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../concepts/architecture/overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../../concepts/architecture/parser/">Parser</a>
</li>

        
            
<li >
    <a href="../../../concepts/architecture/model/">Model</a>
</li>

        
            
<li >
    <a href="../../../concepts/architecture/view/">View</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Data Binding</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../concepts/data-binding/array-modification/">Array Modification</a>
</li>

        
            
<li >
    <a href="../../../concepts/data-binding/computed-properties/">Computed Properties</a>
</li>

        
            
<li >
    <a href="../../../concepts/data-binding/dependents/">Dependents</a>
</li>

        
            
<li >
    <a href="../../../concepts/data-binding/magic-mode/">Magic Mode</a>
</li>

        
            
<li >
    <a href="../../../concepts/data-binding/observers/">Observers</a>
</li>

        
            
<li >
    <a href="../../../concepts/data-binding/parallel-dom/">Parallel DOM</a>
</li>

        
            
<li >
    <a href="../../../concepts/data-binding/two-way-binding/">Two-Way Binding</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Events</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../concepts/events/overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../../concepts/events/bubbling/">Bubbling</a>
</li>

        
            
<li >
    <a href="../../../concepts/events/directives/">Directives</a>
</li>

        
            
<li >
    <a href="../../../concepts/events/method-calls/">Method Calls</a>
</li>

        
            
<li >
    <a href="../../../concepts/events/proxy-events/">Proxy Events</a>
</li>

        
            
<li >
    <a href="../../../concepts/events/publish-subscribe/">Publish-Subscribe</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Rendering</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../concepts/rendering/progressive-enhancement/">Progressive Enhancement</a>
</li>

        
            
<li >
    <a href="../../../concepts/rendering/server-side-rendering/">Server-Side Rendering</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Security</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../concepts/security/csp/">CSP</a>
</li>

        
    </ul>
  </li>

                        
                            
  <li class="dropdown-submenu">
    <a tabindex="-1" href="">Templates</a>
    <ul class="dropdown-menu">
        
            
<li >
    <a href="../../../concepts/templates/overview/">Overview</a>
</li>

        
            
<li >
    <a href="../../../concepts/templates/elements/">Elements</a>
</li>

        
            
<li >
    <a href="../../../concepts/templates/expressions/">Expressions</a>
</li>

        
            
<li >
    <a href="../../../concepts/templates/keypaths/">Keypaths</a>
</li>

        
            
<li >
    <a href="../../../concepts/templates/mustaches/">Mustaches</a>
</li>

        
            
<li >
    <a href="../../../concepts/templates/parsing/">Parsing</a>
</li>

        
            
<li >
    <a href="../../../concepts/templates/pre-parsing/">Pre-Parsing</a>
</li>

        
            
<li >
    <a href="../../../concepts/templates/references/">References</a>
</li>

        
    </ul>
  </li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Articles <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../articles/introducing-ractive-js/">Introducing Ractive.js</a>
</li>

                        
                            
<li >
    <a href="../../../articles/the-origins-of-ractive/">The Origins Of Ractive</a>
</li>

                        
                            
<li >
    <a href="../../../articles/ractive-js-expressions-and-the-new-wave-of-reactive-programming/">Ractive.js Expressions And The New Wave Of Reactive Programming</a>
</li>

                        
                            
<li >
    <a href="../../../articles/ractive-vs-angular/">Ractive.js vs Angular</a>
</li>

                        
                            
<li >
    <a href="../../../articles/ractive-vs-react/">Ractive.js vs React</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../../60-second-setup/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../animated-chart/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/ractivejs/ractive">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="first-level active"><a href="#analog-clock">Analog Clock</a></li>
        
            <li class="second-level"><a href="#mainjs">main.js</a></li>
            
        
            <li class="second-level"><a href="#baseviewhtml">BaseView.html</a></li>
            
        
            <li class="second-level"><a href="#clockhtml">Clock.html</a></li>
            
        
    
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h1 id="analog-clock">Analog Clock</h1>
<pre><code>Embed demo here
</code></pre>

<p>This example demonstrates the use of expressions to simplify the process of turning raw data (such as the current time) into a renderable view that uses that data in many different ways.</p>
<p>Normally, you'd probably have a <code>render</code> function which got all the information we need to update (the day, date, month, hour, minute, second) and calculated any derived values (the rotation of the clock hands, the suffix to append to the date), then updated the view one element at a time.</p>
<p>If you wanted to minimise interactions with the DOM (which are bad for performance) then you'd have to store all these values so you could compare them between renders.</p>
<p>Or perhaps you'd have a bunch of different views – one for the 'Today is...' sentence, one for the digital clock, one for the analogue clock (or possibly one for each of the analogue clock's hands) – each with their own unique render method. You'd still have to store a load of different references, but at least your code would look neater.</p>
<p>With Ractive.js, you only need to store a single reference to the ractive object, and the render function looks like this:</p>
<pre><code class="js">ractive.set( 'date', new Date() );
</code></pre>

<p>And that's it – all the state management and dependency tracking is done for you.</p>
<h2 id="mainjs">main.js</h2>
<pre><code class="js">// create our clock...
var ractive = new BaseView({
  el: demo,
  data: {
    datetime: new Date()
  }
});

// ...then update it once a second
setInterval( function () {
  ractive.set( 'datetime', new Date() );
}, 1000 );
</code></pre>

<h2 id="baseviewhtml">BaseView.html</h2>
<pre><code class="html">&lt;link rel='ractive' href='Clock.html'&gt;

&lt;div class='clock-container'&gt;
  &lt;Clock datetime='{{datetime}}'/&gt;
&lt;/div&gt;

&lt;p&gt;
  Today is {{moment(datetime).format('dddd MMMM Do YYYY')}}.
  The time is &lt;strong&gt;{{moment(datetime).format('h:mm:ss a')}}&lt;/strong&gt;
&lt;/p&gt;

&lt;style&gt;
  .clock-container {
    width: 10em;
    float: left;
  }

  p {
    float: left;
  }
&lt;/style&gt;

&lt;script&gt;
  component.exports = {
    data: {
      moment: require( 'moment' )
    }
  }
&lt;/script&gt;
</code></pre>

<h2 id="clockhtml">Clock.html</h2>
<pre><code class="html">&lt;div class='clock'&gt; &lt;!-- so the SVG keeps its aspect ratio --&gt;
  &lt;svg viewBox='0 0 100 100'&gt;

    &lt;!-- first create a group and move it to 50,50 so
         all co-ords are relative to the center --&gt;
    &lt;g transform='translate(50,50)'&gt;
      &lt;circle class='clock-face' r='48'/&gt;

      &lt;!-- markers every minute (major markers every 5 minutes) --&gt;
      {{#each minor:i}}
        &lt;line class='minor' y1='42' y2='45' transform='rotate( {{
          360 * i / minor.length
        }} )'/&gt;
      {{/each}}

      {{#each major:i}}
        &lt;line class='major' y1='35' y2='45' transform='rotate( {{
          360 * i / major.length
        }} )'/&gt;
      {{/each}}

      &lt;!-- hour hand --&gt;
      &lt;line class='hour' y1='2' y2='-20' transform='rotate( {{
        30 * datetime.getHours() +
        datetime.getMinutes() / 2
      }} )'/&gt;

      &lt;!-- minute hand --&gt;
      &lt;line class='minute' y1='4' y2='-30' transform='rotate( {{
        6 * datetime.getMinutes() +
        datetime.getSeconds() / 10
      }} )'/&gt;

      &lt;!-- second hand --&gt;
      &lt;g transform='rotate( {{
        6 * datetime.getSeconds()
      }} )'&gt;
        &lt;line class='second' y1='10' y2='-38'/&gt;
        &lt;line class='second-counterweight' y1='10' y2='2'/&gt;
      &lt;/g&gt;

    &lt;/g&gt;

  &lt;/svg&gt;
&lt;/div&gt;

&lt;style&gt;
  .clock {
    position: relative;
    width: 100%;
    height: 0;
    padding-bottom: 100%;
  }

  svg {
    position: absolute;
    width: 100%;
    height: 100%;
  }

  .clock-face {
    stroke: #333;
    fill: white;
  }

  .minor {
    stroke: #999;
    stroke-width: 0.5;
  }

  .major {
    stroke: #333;
    stroke-width: 1;
  }

  .hour {
    stroke: #333;
  }

  .minute {
    stroke: #666;
  }

  .second, .second-counterweight {
    stroke: rgb(180,0,0);
  }

  .second-counterweight {
    stroke-width: 3;
  }
&lt;/style&gt;

&lt;script&gt;
  component.exports = {
    data: function () {
      return {
        // clock face markers - major (every 5 minutes) and minor (every minute)
        major: new Array( 12 ),
        minor: new Array( 60 )
      };
    }
  };
&lt;/script&gt;
</code></pre></div>
        
    </div>

    <footer class="col-md-12 text-center">
        <hr>
        <p>
        <small>©RactiveJS contributors. Ractive.js is a free and open source project released under the MIT license.<br></small>
        
        <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>
    </footer>

    <script src="../../../js/jquery-1.10.2.min.js"></script>
    <script src="../../../js/bootstrap-3.0.3.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '../../..';
    </script>
    <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
    <script src="../../../js/base.js"></script>
    <script src="../../../js/index.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    </body>

</html>
