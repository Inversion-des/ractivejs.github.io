<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="author" content="RactiveJS contributors"> 
    <link rel="canonical" href="https://ractive.js.org/get-started/tutorials/events/"> 
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="theme-color" content="#557526">

    <title>Events - Ractive.js</title>

    <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.018/css/hack.min.css">
    <link href='//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../../../css/base.css" rel="stylesheet">
    <link href="../../../css/cinder.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">


    <link href="../../../css/index.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
    <script>
    WebFont.load({
        google: {
            families: ['Open Sans', 'PT Sans']
        }
    });
    </script>

    
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../../..">Ractive.js</a>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Started <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../hello-world/">Hello, world!</a>
</li>

                        
                            
<li >
    <a href="../nested-properties/">Nested Properties</a>
</li>

                        
                            
<li >
    <a href="../expressions/">Expressions</a>
</li>

                        
                            
<li class="active">
    <a href="./">Events</a>
</li>

                        
                            
<li >
    <a href="../conditional-sections/">Conditional Sections</a>
</li>

                        
                            
<li >
    <a href="../iterative-sections/">Iterative Sections</a>
</li>

                        
                            
<li >
    <a href="../two-way-binding/">Two-way Binding</a>
</li>

                        
                            
<li >
    <a href="../partials/">Partials</a>
</li>

                        
                            
<li >
    <a href="../triples-embedded-html/">Triples (Embedded HTML)</a>
</li>

                        
                            
<li >
    <a href="../components/">Components</a>
</li>

                        
                            
<li >
    <a href="../animation/">Animations</a>
</li>

                        
                            
<li >
    <a href="../svg/">SVG</a>
</li>

                        
                            
<li >
    <a href="../transitions/">Transitions</a>
</li>

                        
                            
<li >
    <a href="../decorators/">Decorators</a>
</li>

                        
                            
<li >
    <a href="../../support/">Support</a>
</li>

                        
                            
<li >
    <a href="../../migrating/">Migrating</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">API <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../api/initialization-options/">Initialization Options</a>
</li>

                        
                            
<li >
    <a href="../../../api/static-properties/">Static Properties</a>
</li>

                        
                            
<li >
    <a href="../../../api/static-methods/">Static Methods</a>
</li>

                        
                            
<li >
    <a href="../../../api/instance-properties/">Instance Properties</a>
</li>

                        
                            
<li >
    <a href="../../../api/instance-methods/">Instance Methods</a>
</li>

                        
                            
<li >
    <a href="../../../api/attributes/">Attributes</a>
</li>

                        
                            
<li >
    <a href="../../../api/keypath-prefixes/">Keypath Prefixes</a>
</li>

                        
                            
<li >
    <a href="../../../api/special-references/">Special References</a>
</li>

                        
                            
<li >
    <a href="../../../api/context/">Context Object</a>
</li>

                        
                            
<li >
    <a href="../../../api/parse/">Parse</a>
</li>

                        
                            
<li >
    <a href="../../../api/transition/">Transition</a>
</li>

                        
                            
<li >
    <a href="../../../api/input-binding/">Input Binding</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Extend <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../extend/adaptors/">Adaptors</a>
</li>

                        
                            
<li >
    <a href="../../../extend/components/">Components</a>
</li>

                        
                            
<li >
    <a href="../../../extend/decorators/">Decorators</a>
</li>

                        
                            
<li >
    <a href="../../../extend/easings/">Easings</a>
</li>

                        
                            
<li >
    <a href="../../../extend/events/">Events</a>
</li>

                        
                            
<li >
    <a href="../../../extend/interpolators/">Interpolators</a>
</li>

                        
                            
<li >
    <a href="../../../extend/partials/">Partials</a>
</li>

                        
                            
<li >
    <a href="../../../extend/transitions/">Transitions</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Integrations <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../api/component-files/">Component Files</a>
</li>

                        
                            
<li >
    <a href="../../../integrations/loaders/">Loaders</a>
</li>

                        
                            
<li >
    <a href="../../../integrations/plugins/">Plugins</a>
</li>

                        
                            
<li >
    <a href="../../../integrations/tools/">Tools</a>
</li>

                        
                            
<li >
    <a href="../../../integrations/libraries/">Libraries</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Concepts <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../concepts/architecture/">Architecture</a>
</li>

                        
                            
<li >
    <a href="../../../concepts/rendering/">Rendering</a>
</li>

                        
                            
<li >
    <a href="../../../concepts/security/">Security</a>
</li>

                        
                            
<li >
    <a href="../../../concepts/data-binding/">Data Binding</a>
</li>

                        
                            
<li >
    <a href="../../../concepts/events/">Events</a>
</li>

                        
                            
<li >
    <a href="../../../concepts/templates/">Templates</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../expressions/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../conditional-sections/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/ractivejs/ractive">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

    <div id="main">
        <div class="container">
            
            <div class="col-md-3" role="subnav"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="first-level active"><a href="#events">Events</a></li>
        
            <li class="second-level"><a href="#step-1">Step 1</a></li>
            
        
            <li class="second-level"><a href="#step-2">Step 2</a></li>
            
        
            <li class="second-level"><a href="#step-3">Step 3</a></li>
            
        
            <li class="second-level"><a href="#step-4">Step 4</a></li>
            
        
            <li class="second-level"><a href="#step-5">Step 5</a></li>
            
        
            <li class="second-level"><a href="#step-6">Step 6</a></li>
            
        
            <li class="second-level"><a href="#step-7">Step 7</a></li>
            
        
            <li class="second-level"><a href="#step-8">Step 8</a></li>
            
        
            <li class="second-level"><a href="#step-9">Step 9</a></li>
            
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="events">Events</h1>
<p>DOM events are central to anything interactive on the web. You've probably written <code>element.addEventListener('click', handler)</code> or <code>$('#button').on('click', handler)</code>, or similar code, a thousand times.</p>
<h2 id="step-1">Step 1</h2>
<p><div class="tutorial">
  <button data-tutorial="N4IgFiBcoE5SBTAJgcwSAvgGhAF3gDxICWAbgATFIC8AOngIYxq70B8BA9CaW7QHYCCAZwDGMYgAdclGvVwIAtpIA2DBfXK4AnpIR08CAB65OMBqNxkE7AbVwEARgFdcuAPb9yngLSiVxKIA1gYAAigq7o4MKgB0MQgwuAAU5ADkAIKWZOrE-CgAhGnkAJTsWVak6ggFXC5unnz8XGIS0mwgOMLwVTDk5tmkCOTU5PwIAO7kAEoWlQjJwALk5AgqkOkAxLhMLGlYy1pKqtUbadvHagr7AhglANydIKLwmEA">Start</button>
  <button data-run="true" data-tutorial="N4IgFiBcoE5SBTAJgcwSAvgGhAF3gDxICWAbgATFIC8AOngIYxq70B8BA9CaW7QHYCCAZwDGMYgAdclGvVwIAtpIA2DBfXK4AnpIR08CAB65OMBqNxkE7AbVwEARgFdcuAPb9yngLSiVxKIA1gYAAigq7o4MKgB0MQgwuAAU5ADkAIKWZOrE-CgAhGnkAJRYdjLkVdXkop7C7ioIsZEoqWkJSeQA7gzC5BZB-O7dTajIxSXsWVak6ggFXC5unnz8XGIS0mwgOMLwczDk5tmkCOTU5PwI3eQAShazCMnAAlUIKpDpAMS4TCxpcpeLRKVTzL5pX6gtQKQECDAlADcuxAongmCAA">Fix Code</button>
</div></p>
<p>With Ractive.js, events are declarative instead, and you declare an event handler like this:</p>
<pre><code class="handlebars">&lt;button on-click=&quot;@global.alert( 'Activating!' )&quot;&gt;Activate!&lt;/button&gt;
</code></pre>

<blockquote>
<p>"But wait!", you say. "That looks like some sort of global inline event listener horribleness!". It's not though, I promise. Instead, the <code>on-</code> directive will bind a shared callback directly to the element using <code>addEventListener</code> when it is rendered. When the shared callback is triggered, it will evaluate the expression (or list of expressions) that was passed to the event directive. If you inspect the button element in your browser's Dev Tools, you'll notice that there is no <code>on-click</code> attribute. That's because directives don't render directly to the DOM, but instead control behavior related to rendering like attaching event listeners.</p>
</blockquote>
<p>This is generally more convenient - you don't need to pepper the DOM with id and class attributes just you've got a hook to identify elements with. It also takes the guesswork out of when to attach and detach event listeners, since Ractive.js will automatically attach and detach handlers as elements are rendered and unrendered. Since the event directive actually accepts a list of expressions as its argument, so go ahead and log a console message after the alert is acknowledged:</p>
<pre><code class="handlebars">&lt;button on-click=&quot;@global.alert( 'Activating!' ), console.log( 'alert was acknowledged' )&quot;&gt;Activate!&lt;/button&gt;
</code></pre>

<blockquote>
<p><code>console</code> is one of the globals that is exposed to Ractive.js templates, but if you want to get to <code>alert</code>, you have to go through the <code>@global</code> special reference.</p>
<p>The playground watches for console messages in the output pane and displays them on the <code>Console</code> tab, so if you happen to be reading through this in a browser that doesn't have Dev Tools, you can still see most console messages.</p>
</blockquote>
<h2 id="step-2">Step 2</h2>
<p><div class="tutorial">
  <button data-tutorial="N4IgFiBcoE5SBTAJgcwSAvgGhAF3gDxICWAbgATFIC8AOngIYxq70B8BA9CaW7QHYCCAZwDGMYgAdclGvVwIAtpIA2DBfXK4AnpIR08CAB65OMBqNxkE7AbVzBg-AK6KARghgYM5Am+e4uAD2-OQhALSiKsSiANYGAAK4YMTCAHQMSEgAFOQA5C7unnnkAJTsANRc-oEhfPxcYhLSbCA4wvCkTOTmltbk1OT8CADu5ABKFlakCNnAAuTkCCqQ+QDEuEwseVgLWkqq6gireRsHago7e0jqDKvzoeT2hR4wqwAMexgCGKUA3G0QKJ4JggA">Start</button>
  <button data-run="true" data-tutorial="N4IgFiBcoE5SBTAJgcwSAvgGhAF3gDxICWAbgATFIC8AOngIYxq70B8BA9CaW7QHYCCAZwDGMYgAdclGvVwIAtpIA2DBfXK4AnpIR08CAB65OMBqNxkE7AbVzBg-AK6KARghgYMd3ATfOuLgA9vzkoQC0oirEogDWBgACuGDEwgB0ws5uuOaWABTkAOQu7p5F5ACU7BFcAUGhfIJ+9SFhkdGxCfTJqRkMSEiFJa4eMBXVIGwA1HWBbU1cYhLSbCA4wvCkTOR5VqQI5NTk-AgA7uQAShb7CPnAAuTkCCqQxQDEuEwsRViPWkpVOoEG8ip9AWoFL9-kh1Aw3g8wuR7KUxm8AAz-Hz8DCVADc6xAongmCAA">Fix Code</button>
</div></p>
<p>Okay, we can now annoy users and log debug info. What about something a bit more useful? Back into the bag of contrived examples, and out comes... a number incrementer!</p>
<pre><code class="handlebars">{{number}} &lt;button on-click=&quot;@this.add('number')&quot;&gt;+&lt;/button&gt;
</code></pre>

<blockquote>
<p><code>@this</code> is a reference to the Ractive.js instance that is controlling the template, so you can call any methods on the Ractive.js API with the <code>@this</code> special reference. Since <code>@this</code> is a <em>very</em> common reference, it also has an ever so slightly shorter shorthand <code>@</code>. <code>@this.toggle('visible')</code> and <code>@.toggle('visible')</code> are equivalent.</p>
</blockquote>
<p>Given that there is a <code>subtract</code> method in the Ractive.js API, can you add a decrement button to the example as well?</p>
<h2 id="step-3">Step 3</h2>
<p><div class="tutorial">
  <button data-tutorial="N4IgFiBcoE5SBTAJgcwSAvgGhAF3gDxICWAbgATFIC8AOngIYxq70B8BA9CaW7QHYCCAZwDGMYgAdclGvVwIAtpIA2DBfXK4AnpIR08CAB65OMBqNxkE7AbVwFcDAEYqEfQTPKOYH++QDvXDA2AFkELmCOKIBlYldifhRIkLsvSN80gJ8-L2zcJFzAwOBgAGIAd2Jg8kUEDAws4pLgADpRAHsK4Qam5u9nAFdcXA7+NgBqLiGRsaLm0s4q4N7PYsjCvqDNtYXy5bByYXiVRJRV-37yUvaunsbd-oIZ0fGpzhe5rYDFg4u87ycArzDK5SIuNweLhiCTSNggHDCeCkJjkcyWazkajkfgICrkABKFispAQAApgAIAggVJByAByMpOZgIXD0rBUrRKVTqBB0xkKZRqBTszlIdQMOmU-gBex1KXkTrdOkABnI2CaxwSSQVSuEqvVnIeGAAlABuBEgUTwTBAA">Start</button>
  <button data-run="true" data-tutorial="N4IgFiBcoE5SBTAJgcwSAvgGhAF3gDxICWAbgATFIC8AOngIYxq70B8BA9CaW7QHYCCAZwDGMYgAdclGvVwIAtpIA2DBfXK4AnpIR08CAB65OMBqNxkE7AbVwFcDAEYqEfQTPKOYH++QDvXDA2AFkELmCOKIBlYldifhRIkLsvSN80gJ8-L2zcJFzAwOBgAGIAd2Jg8kUEDAws4pLgADpRAHsK4Qam5u9nAFdcXA7+cjGAWlEVYlEAawMAAU7+BRNWhiQkAApyAHJ2ruF98gBKdgBqLiGRsY5nGE4i-oHh0fGpmbnF+hWx9a4VrCBC4PaHTrdfZYcgABnO7AAkvsVCpasRhMJyNoOoMYZDhDd3vc+i1OFVgr1PMVIoVSY46dTmqVKtUwORhPFZkkqf5XqUjt1eXlmgRbh8JvxprMFstVoDNttwYKTgiQGxrpxxfcxU8Xv0xcTPlLvrK-vLjECQWCDiroXC1WwABIMMAAQnIAE1ceQVB1hDIcYMYOQCUS7vx9WSKWBhTTOAUXhlcpEXG4PFwxBJpGwQDhhPBSExyOZLNZyNRyPwEBVyAAlCxWUgIHbAAQBBAqSAHMpOZig6HtrRKVTqBDd-a9kdqBSD8bkJDqBjdtvz+x1Feh47d+HYJqchJJTcEnfkRrz88YM4AbjzIFE8EwQA">Fix Code</button>
</div></p>
<p>To further wangle our incrementer contrivance, suppose we devised a web version of the old traveling game wherein you collect all of the cows that you pass on your side of the car. So we'll need two objects, one for <code>me</code> and one for my <code>sibling</code>. Each person will have a poroperty, <code>cows</code>, which is an integer representing accumulated bovine beasts.</p>
<pre><code class="js">{
  me: { cows: 0 },
  sibling: { cows: 0 }
}
</code></pre>

<p>The template for this game will include a <code>table</code> containing counts for each person and buttons to increment each person's taurine total.</p>
<pre><code class="handlebars">&lt;table&gt;
  &lt;tr&gt;
    &lt;th&gt;Me&lt;/th&gt;&lt;th&gt;Sibling&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;
      {{#with me}}
        {{.cows}}
        &lt;button&gt;+&lt;/button&gt;
      {{/with}}
    &lt;/td&gt;
    &lt;td&gt;
      {{#with sibling}}
        {{.cows}}
        &lt;button&gt;+&lt;/button&gt;
      {{/with}}
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
</code></pre>

<p>The event listeners <em>could</em> use the full path to the appropriate <code>cows</code> property, which is not too large an imposition here, but with a deeper context, it would quickly become inconvenient. They could also do some keypath manipulation using the special reference <code>@keypath</code>, which resolves to the keypath to the current context at any point in the template. That's a bit painful in most contexts and impossible in others. To address this particular issue, Ractive.js provides a special <code>@context</code> reference that acts as an API adaptor that is rooted in the current context of the template. <code>@context</code> objects have most of the same API methods as a Ractive.js instance, but they can resolve relative keypaths. Add this event directive to each of the buttons to see it in action:</p>
<pre><code class="handlebars">&lt;button on-click=&quot;@context.add( '.cows' )&quot;&gt;+&lt;/button&gt;
</code></pre>

<p>To complete the rules of the game, when you pass a cemetery on your side of the car, you lose all of your cows. It's a weird game, I know, but I didn't make it up. What would be the easiest way to reset a person's cow count?</p>
<h2 id="step-4">Step 4</h2>
<p><div class="tutorial">
  <button data-tutorial="N4IgFiBcoE5SBTAJgcwSAvgGhAF3gDxICWAbgATFIC8AOngIYxq70B8BA9CaW7QHYCCAZwDGMYgAdclGvVwIAtpIA2DBfXK4AnpIR08CAB65OMBqNxkE7AbVxEysg7nOiA1ghiaA9vwC0ij4ArsJKPqT69AACAHRhuAAUwORGkOTRCJH8uLGiKsQIOQAaWOTa6ZnZufmFOQCa5BgAlL4BtR4Gon7CPioIsSo+KIkABgBmxBL8KOTq5IkAJMBVRTUFa8XY5MurOXkbDS0AhKOtIHyCMgvAwEYY27faD61XXDyX9nYOxPySwTJSAwVMEoogjAxlP02v5xj5RKEDNF+D4kAMwv1LIlzuROJcuGIJNI2CAcMJ4ECYOQ3FZIuRqOR+AgAO7kABKFlpCGSAnI5AQKnSAHIAMS4JgsIVYXlaJSqdQIYViuVqBRCgQtADcpJAongYrcnipwG+zKouDA6QAHAAGUjMzXfMAIYgoMC4a12sCOq4AIws7hQMBC-CQ-m6Qxg6RFCFjPowmCAA">Start</button>
</div></p>
<p>Suppose you need to track the mouse cursor as it moves across a <code>div</code> for... reasons. Perhaps you've landed the contract for the frontend of a missile targeting system. Ractive.js provides access to the DOM event object in event directive expressions as the special <code>@event</code> reference. Any properties and methods available on the event object passed to the <code>addEventListener</code> callback are available from the <code>@event</code> reference e.g. <code>@event.clientX</code>.</p>
<pre><code class="handlebars">&lt;div id=&quot;tracker&quot; on-mousemove=&quot;@.set({ x: @event.clientX, y: @event.clientY })&quot; on-click=&quot;console.log(`firing at (${@event.clientX}, ${@event.clientY})!`)&quot;&gt;
  ({{x}}, {{y}})
&lt;/div&gt;
</code></pre>

<p>The element on which the event directive is installed is also available within event directive expressions as the special <code>@node</code> reference. Like the <code>@event</code> reference, you can access any properties or methods of the DOM element or even pass it as an argument to another function using <code>@node</code>.</p>
<pre><code class="handlebars">&lt;input value=&quot;example&quot; on-focus=&quot;@node.select()&quot; /&gt;
</code></pre>

<blockquote>
<p>If you need to cancel an event by calling <code>stopPropagation</code>, you can simply make <code>false</code> the last expression in your event directive expression list.</p>
<pre><code>&lt;a href="/nope" on-click="doSomething(), false"&gt;This will do something rather than /nope.&lt;/a&gt;
</code></pre>
</blockquote>
<h2 id="step-5">Step 5</h2>
<p><div class="tutorial">
  <button data-tutorial="N4IgFiBcoE5SBTAJgcwSAvgGhAF3gDxICWAbgATFIC8AOngIYxq70B8BA9CaW7QHYCCAZwDGMYgAdclGvVwIAtpIA2DBfXK4AnpIR08CAB65OMBqNxkE7AbVwEARgFdcuAPb82AQUtl1CACEXC5unnz8XGIS0mwgOMLwpEzk5n6kCOTU5PwIAO7kAEoWVhkAFMB2bkwskOQA5ADEuDUIuPVYVQrKagp1Td2qAfUCGACUANzxIKLwmEA">Start</button>
  <button data-run="true" data-tutorial="N4IgFiBcoE5SBTAJgcwSAvgGhAF3gDxICWAbgATFIC8AOngIYxq70B8BA9CaW7QHYCCAZwDGMYgAdclGvVwIAtpIA2DBfXK4AnpIR08CAB65OMBqNxkE7AbVwEARgFdcuAPb9yngLSiVxKIA1gYAAgB0AGbEMAgAFOQA5BZWpOoIieQAlOwAgpZk6QCEXC5unnz8XGIS0mwgOMLwaTDk5gWkCOTU5PwIAO7kAEop1nHAdm5MLJBJAMS40wi4iViTCspqCrOJC0qq6YkCGFkA3Hb87akI4Z4JyR2HWOSRzvwFnuQJop4KJtnkCaCUyccgAA1wYGIwjBlGEWjAXSu1ko-GEi3eNi85E4oLBP34f1wsOh5AY5AJRO8jgAVghLAJyDjQQx+NoyUgSFZPAwVOQEJ1CWTmM5FAhCfD+u5nCokC93CoVO5BvjfsZic9iJFyMJnJJVMRkIyySoEDBcPd8ql1MR+Cgipkzsczg0QKJ4JggA">Fix Code</button>
</div></p>
<p>Ractive.js also provides its own instance-level event system, so that you can raise and respond to internal events in a more abstract way. You can name your events however you like, so you can convey more meaning about the intent of the action that triggered the event, such as <code>addUser</code> as opposed to <code>click</code>.</p>
<p>To listen to an event, you attach an event listener to your Ractive.js instance with the <code>on</code> method.</p>
<pre><code class="js">ractive.on( 'activate', function ( context ) {
  // `this` is the ractive instance
  // `context` is a context object
  // any additional event arguments would follow `context`, if supplied
  alert( 'Activating!' );
});
</code></pre>

<p>To raise an event, you pass the event name and optional context and arguments to the <code>fire</code> method.</p>
<pre><code class="js">// this will trigger the 
ractive.fire( 'activate' );
</code></pre>

<p>Update the template and JavaScript to fire and handle an instance event, then execute. Remember, you can access the current Ractive.js instance with the <code>@this</code> special reference or <code>@</code> shorthand.</p>
<blockquote>
<p>A Ractive.js instance doesn't need to be rendered to update data or fire and handle events.</p>
</blockquote>
<h2 id="step-6">Step 6</h2>
<p><div class="tutorial">
  <button data-tutorial="N4IgFiBcoE5SBTAJgcwSAvgGhAF3gDxICWAbgATFIC8AOngIYxq70B8BA9CaW7QHYCCAZwDGMYgAdclGvVwIAtpIA2DBfXK4AnpIR08CAB65OMBqNxkE7AbVwEARgFdcuAPb9yngLSiVxKIA1gYAAgB0AGbEMAgAFOQA5BZWpOoIieQAlOwAgpZk6QCEXC5unnz8XGIS0mwgOMLwaTDk5gWkCOTU5PwIAO7kAEop1nHAdm5MLJBJAMS40wi4iViTCspqCrOJC0qq6YkCGFkA3Hb87akI4Z4JyR2HWOSRzvwFnuQJop4KJtnkCaCRYqBAwXD3fKpdTEfgoIqZM7HM4NECieCYIA">Start</button>
  <button data-run="true" data-tutorial="N4IgFiBcoE5SBTAJgcwSAvgGhAF3gDxICWAbgATFIC8AOngIYxq70B8BA9CaW7QHYCCAZwDGMYgAdclGvVwIAtpIA2DBfXK4AnpIR08CAB65OMBqNxkE7AbVwEARgFdcuAPb9yngLSiVxKIA1gYAAgB0AGbEMAgAFOQA5BZWpOoIieQAlOwAgpZk6QCEXC5unnyCDmUeXr7+gSH0EdGxCYlICCmFCpk5IGwAIl0FaQolnDUVQpxiEtJsIDjC8Gkw5OajCOTU5PwIAO7kAErdpPHAdm5MLJBJAMS4Nwi4iVhXCspqCneJj0qqdKJAQYLIAbjs-E2qQQ4U8cUuVTO6TukWc-AK8Ky5GA5AYKgQMFw7XyqXUxH4KCKiXB5GwV06yJ+5DRGKsWJxeIJRPawyZFKpNLBdJB4KWIFE8EwQA">Fix Code</button>
</div></p>
<p>You can subscribe to multiple instance events in one go:</p>
<pre><code class="js">ractive.on({
  activate: function () {
    alert( 'Activating!' );
  },
  deactivate: function () {
    alert( 'Deactivating!' );
  }
});
</code></pre>

<p>Add a 'deactivate' button and wire it up.</p>
<h2 id="step-7">Step 7</h2>
<p><div class="tutorial">
  <button data-tutorial="N4IgFiBcoE5SBTAJgcwSAvgGhAF3gDxICWAbgATFIC8AOngIYxq70B8BA9CaW7QHYCCAZwDGMYgAdclGvVwIAtpIA2DBfXK4AnpIR08CAB65OMBqNxkE7AbVwEARgFdcuAPb9yngLSiVxKIA1gYA2gDkFlak6gjhWOTOwggwALrsAIKWZLEAhFwubp58-FxiEtJsIDjC8DEw5ObZpAjk1OT8CADu5ABKUdYAFMB2bkwskOThAMS44wi48aMKymoKkzMrqrFLgrhI6gyTI3v2SSnHo-b2-AyKCBsAUu5xV7gYox-8GACUANx2fhNaIIAB0nkGUwGMQU8XIADNnPxshDyJYjAlzg0fuQTvYGCoUrhIeEstF1MR+CgpuQANSJZIwUG3e50qa5cLkf4CX5-aogUTwTBAA">Start</button>
</div></p>
<p>Converting a DOM event into an instance event is a terribly convenient way to handle user actions in a meaningful way. The signature of the <code>fire</code> method is a little cumbersome to include all over your template, especially if you need to pass the <code>@context</code> and a few additional arguments. To address that, Ractive.js provides a convenient shorthand method for firing and instance event from an event directive. If there is only one expression in the event directive arguments, that expression returns an array, and that array has a string as the first member, the event directive will fire an internal event with the first array element as the name, the current <code>@context</code> as the context, and any remaining members of the array as event arguments. This is generally referred to as a "proxy event".</p>
<pre><code class="handlebars">&lt;button on-click=&quot;['activate', user]&quot;&gt;Activate!&lt;/button&gt;
&lt;!-- which is a bit more convenient than --&gt;
&lt;button on-click=&quot;@this.fire('activate', @context, user)&quot;&gt;Activate!&lt;/button&gt;
</code></pre>

<blockquote>
<p>Depending on your editor and personal tastes, it might be convenient to use an unquoted attribute for your proxied events: <code>&lt;button on-click=['activate', user]&gt;Activate!&lt;/button&gt;</code>. There is nothing special going on there - Ractive.js supports just about everything that HTML does, and HTML supports unquoted attributes e.g. <code>&lt;input value=green /&gt;</code>.</p>
</blockquote>
<p>As with regular event expressions, if a handler for a proxied event returns <code>false</code>, it will cancel the event.</p>
<h2 id="step-8">Step 8</h2>
<p><div class="tutorial">
  <button data-tutorial="N4IgFiBcoE5SBTAJgcwSAvgGhAF3gDxICWAbgATFIC8AOngIYxq70B8BA9CaW7QHYCCAZwDGMYgAdclGvVwIAtpIA2DBfXK4AnpIR08CAB65OMBqNxkE7AbVwEARgFdcuAPb9yngLSiVxKIA1gYA2gDkFlak6gjhALrsAIKWZLEAhFwubp58gg7ZHl6+-oEh9BFICFFpCgnsACLVqTEKmZyFuUKcYhLSbCA4wvAxMOTmLQjk1OT8CADu5ABKNaQIABTAdm5MLJDk4QDEuLsIuOFY2wrKagr7R9eqseECGACUANx2-BPRCAB0nk221WsX2ADNnPxUp5yOs3uQtvl7AwVAgYLh1gcUtF1MR+Ch0uFPttsNsqqC7uRIdCrLD4Yjtii0RiseEmpT8YTiV98hhXp9BiBRPBMEA">Start</button>
  <button data-run="true" data-tutorial="N4IgFiBcoE5SBTAJgcwSAvgGhAF3gDxICWAbgATFIC8AOngIYxq70B8BA9CaW7QHYCCAZwDGMYgAdclGvVwIAtpIA2DBfXK4AnpIR08CAB65OMBqNxkE7AbVwEARgFdcuAPb9yngLSiVxKIA1gYA2gDkFlak6gjhALrsAIKWZLEAhFwubp58gg7ZHl6+-oEh9BFICFFpCgnsACLVqTEKmZyFuXYFrkXe-H4BwWHhHigoKnGJIGzAwOTCxJP8osjkAPzk4QBKCMLOigjp4eSQWwDKSwgrRycYGFm9XflOT8UDpcMV4cIekvUzc5-dqdfh5LhiCTSNggHDCeAxGDkcwtBDkajkfgIADu5G2NVICAAFMBurgmCwzuEAMTk5gIXDhLBkpSqWJU2mstR1AQYACUAG47PxEeQAr9rggkRiUdEEAA6Twk7oE9nkABmzhWVk85CJfPIpPy9gYkxguCJWxS0XUxH4KGOgu62G6VVVCjOmu1xF1+sN3RNZotWya7rtDvCTvyLvyv3ckk9WtSvoNRvsgalwfCADl3ORFO4YGjTZnhMdyFH07hxQosTB5aIGDcVPqhdHeZX+LLrIr+Mr8mMJghE96U-7jVZ1XqxcQJXX5bPLstVkg-amA6xq7Pa1L5UX9odWxv7LgwLP5cIGZaflcbkgmRrTZeK22qxhyAgVM+05v7DXJfWizLsSla-m4Z7CBeV5bEB1wrg+uAwM4aKgfYGDOh2AqwiAojwJgQA">Fix Code</button>
</div></p>
<p>There are a couple of ways to unsubscribe from events. If you've used jQuery, you'll be used to this syntax:</p>
<pre><code class="js">ractive.on( 'select', selectHandler );

// later...
ractive.off( 'select', selectHandler );
</code></pre>

<p>That's fine, as long as you stored a reference to selectHandler (i.e. you didn't just use an anonymous function). If you didn't, you can also do this:</p>
<pre><code class="js">// remove ALL 'select' handlers
ractive.off( 'select' );

// remove all handlers of ANY type
ractive.off();
</code></pre>

<p>Alternatively, you can do this:</p>
<pre><code class="js">var listener = ractive.on( 'select', selectHandler );

var otherListeners = ractive.on({
  activate: function () { alert( 'Activating' ); },
  deactivate: function () { alert( 'Deactivating!' ); }
});

// later...
listener.cancel();
otherListeners.cancel();
</code></pre>

<p>Try adding a 'stop' button which removes the 'activate' and 'deactivate' handlers.</p>
<p>You can also temporarily disable an event handler or set of event handlers by calling <code>silence</code> on the handle returned by <code>on</code>. You can resume processing of the handler or handlers by calling the conveniently named <code>resume</code> method on the handle.</p>
<pre><code class="js">var listener = ractive.on({
  'select', function () { alert( 'Selected!' ); },
  'delete', function () { alert( 'Deleted!' ); }
});

// later...
listener.silence();

// no alerts here
ractive.fire( 'select' );
ractive.fire( 'delete' );

// later...
listener.resume();

// alert here
ractive.fire( 'select' );
</code></pre>

<p>Try adding a silence button that checks to see if the listener is silenced using the handle's <code>isSilenced</code> method, and silences or resumes it as appropriate.</p>
<blockquote>
<p>If you remove your ractive from the DOM with <code>ractive.teardown()</code>, any event handlers will be automatically cleaned up.</p>
</blockquote>
<h2 id="step-9">Step 9</h2>
<p><div class="tutorial">
  <button data-tutorial="N4IgFiBcoE5SBTAJgcwSAvgGhAF3gDwDOAxjAJYAOuABETCQLwA6IA9GwK4B2lA1igB0JAPYBbNjACGJXOQBuCALQJF3XESW4plVgD4CbUhWp7m3cwSQKa5JCzxSYaXPsPX5Zi92JkqtOwdcBDFKABspYNYaXABPSgQghAAPXEkZOUV9c2ZcAgAjTlxcEW4aUqUSMPISPgcAbQByDIVIhEaAXX0AQVlW4IBCQ0Li0q9cgqKSsoqqmrrWJqQEFvk2zv0AERW+tcHhqbGcvJHp8u5K6tqGxpKUFDD2rpA9YGA6ckfuEmQaAH4aI0AEoIIicMQIAaNGiQQEAZU+CG+kOhGAwB1G3HGJ0OMwuc2ui0aRBKlA2LzhpKGbFORx8Rj8phAOCI8DWMBo0l2CBojBo3AQAHcaEDVggABTAY7aZwIXCwxoAYhlLkaWGlIXCbQVys1EWCjXMGAAlABuHLcdk0aokpEIDl8rmZBCCUqS46rbU0ABmPD6pRo4uNNClFlc2keMFw4sBvUykXI3BQULNx2wx2WnuCsN93zkAaDIeOuSkkejgO2WcTycaqbD6bDJJElBzfvzZULodyJbLMcaADkRDQxCIYDzS-aNFCaHXu7gbcEBTBhFJkWEg+b60bZ9wnQoXW6u6N7o9W3nyAXg0fcuRvYHreRbUvBI+EV8fkhC1fi+GF3bl2OYIQhuP65LgYCPoIRByn2RCIsiSBqj6pbQTOm5zhgNAIGEqHXr+j6LvaUHwT8IFhnO4GQdB5bEiRyBIbgMCcDys7hhgabbqazIgCQ8CYEAA">Start</button>
  <button data-run="true" data-tutorial="N4IgFiBcoE5SBTAJgcwSAvgGhAF3gDwDOAxjAJYAOuABETCQLwA6IA9GwK4B2lA1igB0JAPYBbNjACGJXOQBuCALQJF3XESW4plVgD4CbUhWp7m3cwSQKa5JCzxSYaXPsPX5Zi92JkqtOwdcBDFKABspYNYaXABPSgQghAAPXEkZOUV9c2ZcAgAjTlxcEW4aUq0dBwBtAHIMhUiEWoBdfQBBWUbggEJDQuLSr1yCopKyiu1KGtqkBAb5Jtb9ABF5rsXe-rGhnLyB8fLuSunWOpKUFDDmtpA9YGA6cmvuEmQaAH4aWoAlBCJOGIED1ajRIN8AMrPBCvYGgjAYbaDbjDfY7CbHKYzIglSjLO4Q3F9NgHXY+Ix+UwgHBEeCLGA0aQbBA0Rg0bgIADuNB+CwQAApgHttM4ELhwbUAMQily1LDCkLhJoS6WKiLBWrmDAASgA3DluPSaGFyDiYQgGWymZkEIJSoK9gtlTQAGY8LqlGj87U0IUWVzaa4wXD876dTKRcjcFAgvV7bB7OZO4Lgt2vOSe72+va5KRBkPfNbJqMx2px-0J-04kSUVPujNlLN+3K5-Oh2oAORENDEIhgLLzFo0IJo5ZbuBNZo5MGEUlhYW9+orWrH3GtClt9ubg0u1zr6fImZ929y5BdXuNpuC08EpqhLzeSCzx5zAcn14tgn7AKBi9fuVwMBTUEIgxXbIhoVhJA5VdPNQNHJdxwwGgEDCeCTzfK9zRnCCHwFMcAwAoCiBAsDvlwmFHxg3AYE4FkCNyDB4xXXVqRAEh4EwIA">Fix Code</button>
</div></p>
<p>It's possible to define custom template events in Ractive.js. You use them just like normal events:</p>
<pre><code class="handlebars">&lt;button on-tap='activate'&gt;Activate!&lt;/button&gt;
</code></pre>

<p>Note that we're using on-tap here instead of <code>on-click</code> – <code>tap</code> is a custom event.</p>
<blockquote>
<p>Custom events are distributed as plugins, which can be downloaded from here to include in your project.</p>
<p>You can also create your own plugins – just follow the instructions on the docs.</p>
</blockquote>
<p>The trouble with <code>click</code> is that it's nonsense. If you put your mouse down on the 'activate' button, waggle it about, then lift your finger up after a few seconds, the browser will in most cases consider it a 'click'. I don't. Do you?</p>
<p>Furthermore, if your interface needs to work on touch devices, using <code>click</code> means a 300ms delay between the <code>touchstart</code>-<code>touchend</code> sequence event and the simulated <code>mousedown</code>-<code>mouseup</code>-<code>click</code> sequence.</p>
<p>The tap event corrects for both of these anomalies. Try replacing the click proxies in the template.</p></div>
            
        </div>

        <div class="footer-nav">
            <a rel="prev" href="../expressions/">previous</a>
            <a rel="edit" href="https://github.com/ractivejs/ractivejs.github.io/edit/dev/docs/get-started/tutorials/events.md" target="_blank">edit this page
            <a rel="next" href="../conditional-sections/">next</a>
        </div>

        <footer class="col-md-12 text-center">
            <hr>
            <p>
            <small>©RactiveJS contributors. Ractive.js is a free and open source project released under the MIT license.<br></small>
            
            <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p></small>
        </footer>
    </div>

    <script src="../../../js/jquery-1.10.2.min.js"></script>
    <script src="../../../js/bootstrap-3.0.3.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
    var base_url = '../../..';
    </script>
    <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
    <script src="../../../js/base.js"></script>
    <script src="../../../js/index.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                </div>
                <div class="modal-body">
                    <p>
                        From here you can search these documents. Enter your search terms below.
                    </p>
                    <form role="form">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                        </div>
                    </form>
                    <div id="mkdocs-search-results"></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>

    </body>

</html>
